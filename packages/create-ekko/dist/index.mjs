import k from"node:fs";import H from"node:path";import{fileURLToPath as ar}from"node:url";import St from"readline";import re from"events";import lr from"child_process";import ur from"path";import cr from"fs";import dr from"process";function Ct(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var se={},ne,At;function M(){if(At)return ne;At=1;const{FORCE_COLOR:s,NODE_DISABLE_COLORS:e,TERM:t}=process.env,i={enabled:!e&&t!=="dumb"&&s!=="0",reset:n(0,0),bold:n(1,22),dim:n(2,22),italic:n(3,23),underline:n(4,24),inverse:n(7,27),hidden:n(8,28),strikethrough:n(9,29),black:n(30,39),red:n(31,39),green:n(32,39),yellow:n(33,39),blue:n(34,39),magenta:n(35,39),cyan:n(36,39),white:n(37,39),gray:n(90,39),grey:n(90,39),bgBlack:n(40,49),bgRed:n(41,49),bgGreen:n(42,49),bgYellow:n(43,49),bgBlue:n(44,49),bgMagenta:n(45,49),bgCyan:n(46,49),bgWhite:n(47,49)};function r(p,a){let l=0,h,f="",m="";for(;l<p.length;l++)h=p[l],f+=h.open,m+=h.close,a.includes(h.close)&&(a=a.replace(h.rgx,h.close+h.open));return f+a+m}function o(p,a){let l={has:p,keys:a};return l.reset=i.reset.bind(l),l.bold=i.bold.bind(l),l.dim=i.dim.bind(l),l.italic=i.italic.bind(l),l.underline=i.underline.bind(l),l.inverse=i.inverse.bind(l),l.hidden=i.hidden.bind(l),l.strikethrough=i.strikethrough.bind(l),l.black=i.black.bind(l),l.red=i.red.bind(l),l.green=i.green.bind(l),l.yellow=i.yellow.bind(l),l.blue=i.blue.bind(l),l.magenta=i.magenta.bind(l),l.cyan=i.cyan.bind(l),l.white=i.white.bind(l),l.gray=i.gray.bind(l),l.grey=i.grey.bind(l),l.bgBlack=i.bgBlack.bind(l),l.bgRed=i.bgRed.bind(l),l.bgGreen=i.bgGreen.bind(l),l.bgYellow=i.bgYellow.bind(l),l.bgBlue=i.bgBlue.bind(l),l.bgMagenta=i.bgMagenta.bind(l),l.bgCyan=i.bgCyan.bind(l),l.bgWhite=i.bgWhite.bind(l),l}function n(p,a){let l={open:`\x1B[${p}m`,close:`\x1B[${a}m`,rgx:new RegExp(`\\x1b\\[${a}m`,"g")};return function(h){return this!==void 0&&this.has!==void 0?(this.has.includes(p)||(this.has.push(p),this.keys.push(l)),h===void 0?this:i.enabled?r(this.keys,h+""):h+""):h===void 0?o([p],[l]):i.enabled?r([l],h+""):h+""}}return ne=i,ne}var oe,Et;function fr(){return Et||(Et=1,oe=(s,e)=>{if(!(s.meta&&s.name!=="escape")){if(s.ctrl){if(s.name==="a")return"first";if(s.name==="c"||s.name==="d")return"abort";if(s.name==="e")return"last";if(s.name==="g")return"reset"}if(e){if(s.name==="j")return"down";if(s.name==="k")return"up"}return s.name==="return"||s.name==="enter"?"submit":s.name==="backspace"?"delete":s.name==="delete"?"deleteForward":s.name==="abort"?"abort":s.name==="escape"?"exit":s.name==="tab"?"next":s.name==="pagedown"?"nextPage":s.name==="pageup"?"prevPage":s.name==="home"?"home":s.name==="end"?"end":s.name==="up"?"up":s.name==="down"?"down":s.name==="right"?"right":s.name==="left"?"left":!1}}),oe}var he,Mt;function ae(){return Mt||(Mt=1,he=s=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),t=new RegExp(e,"g");return typeof s=="string"?s.replace(t,""):s}),he}var le,Pt;function P(){if(Pt)return le;Pt=1;const s="\x1B",e=`${s}[`,t="\x07",i={to(n,p){return p?`${e}${p+1};${n+1}H`:`${e}${n+1}G`},move(n,p){let a="";return n<0?a+=`${e}${-n}D`:n>0&&(a+=`${e}${n}C`),p<0?a+=`${e}${-p}A`:p>0&&(a+=`${e}${p}B`),a},up:(n=1)=>`${e}${n}A`,down:(n=1)=>`${e}${n}B`,forward:(n=1)=>`${e}${n}C`,backward:(n=1)=>`${e}${n}D`,nextLine:(n=1)=>`${e}E`.repeat(n),prevLine:(n=1)=>`${e}F`.repeat(n),left:`${e}G`,hide:`${e}?25l`,show:`${e}?25h`,save:`${s}7`,restore:`${s}8`},r={up:(n=1)=>`${e}S`.repeat(n),down:(n=1)=>`${e}T`.repeat(n)},o={screen:`${e}2J`,up:(n=1)=>`${e}1J`.repeat(n),down:(n=1)=>`${e}J`.repeat(n),line:`${e}2K`,lineEnd:`${e}K`,lineStart:`${e}1K`,lines(n){let p="";for(let a=0;a<n;a++)p+=this.line+(a<n-1?i.up():"");return n&&(p+=i.left),p}};return le={cursor:i,scroll:r,erase:o,beep:t},le}var ue,Tt;function pr(){if(Tt)return ue;Tt=1;function s(a,l){var h=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!h){if(Array.isArray(a)||(h=e(a))||l&&a&&typeof a.length=="number"){h&&(a=h);var f=0,m=function(){};return{s:m,n:function(){return f>=a.length?{done:!0}:{done:!1,value:a[f++]}},e:function(g){throw g},f:m}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,c=!1,w;return{s:function(){h=h.call(a)},n:function(){var g=h.next();return u=g.done,g},e:function(g){c=!0,w=g},f:function(){try{!u&&h.return!=null&&h.return()}finally{if(c)throw w}}}}function e(a,l){if(a){if(typeof a=="string")return t(a,l);var h=Object.prototype.toString.call(a).slice(8,-1);if(h==="Object"&&a.constructor&&(h=a.constructor.name),h==="Map"||h==="Set")return Array.from(a);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return t(a,l)}}function t(a,l){(l==null||l>a.length)&&(l=a.length);for(var h=0,f=new Array(l);h<l;h++)f[h]=a[h];return f}const i=ae(),r=P(),o=r.erase,n=r.cursor,p=a=>[...i(a)].length;return ue=function(a,l){if(!l)return o.line+n.to(0);let h=0;const f=a.split(/\r?\n/);var m=s(f),u;try{for(m.s();!(u=m.n()).done;){let c=u.value;h+=1+Math.floor(Math.max(p(c)-1,0)/l)}}catch(c){m.e(c)}finally{m.f()}return o.lines(h)},ue}var ce,Dt;function qt(){if(Dt)return ce;Dt=1;const s={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},e={arrowUp:s.arrowUp,arrowDown:s.arrowDown,arrowLeft:s.arrowLeft,arrowRight:s.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return ce=process.platform==="win32"?e:s,ce}var de,It;function mr(){if(It)return de;It=1;const s=M(),e=qt(),t=Object.freeze({password:{scale:1,render:a=>"*".repeat(a.length)},emoji:{scale:2,render:a=>"\u{1F603}".repeat(a.length)},invisible:{scale:0,render:a=>""},default:{scale:1,render:a=>`${a}`}}),i=a=>t[a]||t.default,r=Object.freeze({aborted:s.red(e.cross),done:s.green(e.tick),exited:s.yellow(e.cross),default:s.cyan("?")});return de={styles:t,render:i,symbols:r,symbol:(a,l,h)=>l?r.aborted:h?r.exited:a?r.done:r.default,delimiter:a=>s.gray(a?e.ellipsis:e.pointerSmall),item:(a,l)=>s.gray(a?l?e.pointerSmall:"+":e.line)},de}var fe,Rt;function gr(){if(Rt)return fe;Rt=1;const s=ae();return fe=function(e,t){let i=String(s(e)||"").split(/\r?\n/);return t?i.map(r=>Math.ceil(r.length/t)).reduce((r,o)=>r+o):i.length},fe}var pe,kt;function vr(){return kt||(kt=1,pe=(s,e={})=>{const t=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(s||"").split(/\r?\n/g).map(r=>r.split(/\s+/g).reduce((o,n)=>(n.length+t.length>=i||o[o.length-1].length+n.length+1<i?o[o.length-1]+=` ${n}`:o.push(`${t}${n}`),o),[t]).join(`
`)).join(`
`)}),pe}var me,Ht;function br(){return Ht||(Ht=1,me=(s,e,t)=>{t=t||e;let i=Math.min(e-t,s-Math.floor(t/2));i<0&&(i=0);let r=Math.min(i+t,e);return{startIndex:i,endIndex:r}}),me}var ge,Ft;function V(){return Ft||(Ft=1,ge={action:fr(),clear:pr(),style:mr(),strip:ae(),figures:qt(),lines:gr(),wrap:vr(),entriesToDisplay:br()}),ge}var ve,Vt;function W(){if(Vt)return ve;Vt=1;const s=St,e=V(),t=e.action,i=re,r=P(),o=r.beep,n=r.cursor,p=M();class a extends i{constructor(h={}){super(),this.firstRender=!0,this.in=h.stdin||process.stdin,this.out=h.stdout||process.stdout,this.onRender=(h.onRender||(()=>{})).bind(this);const f=s.createInterface({input:this.in,escapeCodeTimeout:50});s.emitKeypressEvents(this.in,f),this.in.isTTY&&this.in.setRawMode(!0);const m=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,u=(c,w)=>{let v=t(w,m);v===!1?this._&&this._(c,w):typeof this[v]=="function"?this[v](w):this.bell()};this.close=()=>{this.out.write(n.show),this.in.removeListener("keypress",u),this.in.isTTY&&this.in.setRawMode(!1),f.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",u)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(o)}render(){this.onRender(p),this.firstRender&&(this.firstRender=!1)}}return ve=a,ve}var be,jt;function wr(){if(jt)return be;jt=1;function s(u,c,w,v,g,d,b){try{var _=u[d](b),y=_.value}catch(x){w(x);return}_.done?c(y):Promise.resolve(y).then(v,g)}function e(u){return function(){var c=this,w=arguments;return new Promise(function(v,g){var d=u.apply(c,w);function b(y){s(d,v,g,b,_,"next",y)}function _(y){s(d,v,g,b,_,"throw",y)}b(void 0)})}}const t=M(),i=W(),r=P(),o=r.erase,n=r.cursor,p=V(),a=p.style,l=p.clear,h=p.lines,f=p.figures;class m extends i{constructor(c={}){super(c),this.transform=a.render(c.style),this.scale=this.transform.scale,this.msg=c.message,this.initial=c.initial||"",this.validator=c.validate||(()=>!0),this.value="",this.errorMsg=c.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=l("",this.out.columns),this.render()}set value(c){!c&&this.initial?(this.placeholder=!0,this.rendered=t.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(c)),this._value=c,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var c=this;return e(function*(){let w=yield c.validator(c.value);typeof w=="string"&&(c.errorMsg=w,w=!1),c.error=!w})()}submit(){var c=this;return e(function*(){if(c.value=c.value||c.initial,c.cursorOffset=0,c.cursor=c.rendered.length,yield c.validate(),c.error){c.red=!0,c.fire(),c.render();return}c.done=!0,c.aborted=!1,c.fire(),c.render(),c.out.write(`
`),c.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(c){this.placeholder||(this.cursor=this.cursor+c,this.cursorOffset+=c)}_(c,w){let v=this.value.slice(0,this.cursor),g=this.value.slice(this.cursor);this.value=`${v}${c}${g}`,this.red=!1,this.cursor=this.placeholder?0:v.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let c=this.value.slice(0,this.cursor-1),w=this.value.slice(this.cursor);this.value=`${c}${w}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let c=this.value.slice(0,this.cursor),w=this.value.slice(this.cursor+1);this.value=`${c}${w}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(n.down(h(this.outputError,this.out.columns)-1)+l(this.outputError,this.out.columns)),this.out.write(l(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[a.symbol(this.done,this.aborted),t.bold(this.msg),a.delimiter(this.done),this.red?t.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((c,w,v)=>c+`
${v?" ":f.pointerSmall} ${t.red().italic(w)}`,"")),this.out.write(o.line+n.to(0)+this.outputText+n.save+this.outputError+n.restore+n.move(this.cursorOffset,0)))}}return be=m,be}var we,Nt;function yr(){if(Nt)return we;Nt=1;const s=M(),e=W(),t=V(),i=t.style,r=t.clear,o=t.figures,n=t.wrap,p=t.entriesToDisplay,a=P(),l=a.cursor;class h extends e{constructor(m={}){super(m),this.msg=m.message,this.hint=m.hint||"- Use arrow-keys. Return to submit.",this.warn=m.warn||"- This option is disabled",this.cursor=m.initial||0,this.choices=m.choices.map((u,c)=>(typeof u=="string"&&(u={title:u,value:c}),{title:u&&(u.title||u.value||u),value:u&&(u.value===void 0?c:u.value),description:u&&u.description,selected:u&&u.selected,disabled:u&&u.disabled})),this.optionsPerPage=m.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=r("",this.out.columns),this.render()}moveCursor(m){this.cursor=m,this.value=this.choices[m].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(m,u){if(m===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(l.hide):this.out.write(r(this.outputText,this.out.columns)),super.render();let m=p(this.cursor,this.choices.length,this.optionsPerPage),u=m.startIndex,c=m.endIndex;if(this.outputText=[i.symbol(this.done,this.aborted),s.bold(this.msg),i.delimiter(!1),this.done?this.selection.title:this.selection.disabled?s.yellow(this.warn):s.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let w=u;w<c;w++){let v,g,d="",b=this.choices[w];w===u&&u>0?g=o.arrowUp:w===c-1&&c<this.choices.length?g=o.arrowDown:g=" ",b.disabled?(v=this.cursor===w?s.gray().underline(b.title):s.strikethrough().gray(b.title),g=(this.cursor===w?s.bold().gray(o.pointer)+" ":"  ")+g):(v=this.cursor===w?s.cyan().underline(b.title):b.title,g=(this.cursor===w?s.cyan(o.pointer)+" ":"  ")+g,b.description&&this.cursor===w&&(d=` - ${b.description}`,(g.length+v.length+d.length>=this.out.columns||b.description.split(/\r?\n/).length>1)&&(d=`
`+n(b.description,{margin:3,width:this.out.columns})))),this.outputText+=`${g} ${v}${s.gray(d)}
`}}this.out.write(this.outputText)}}return we=h,we}var ye,Lt;function _r(){if(Lt)return ye;Lt=1;const s=M(),e=W(),t=V(),i=t.style,r=t.clear,o=P(),n=o.cursor,p=o.erase;class a extends e{constructor(h={}){super(h),this.msg=h.message,this.value=!!h.initial,this.active=h.active||"on",this.inactive=h.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(h,f){if(h===" ")this.value=!this.value;else if(h==="1")this.value=!0;else if(h==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(n.hide):this.out.write(r(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),s.bold(this.msg),i.delimiter(this.done),this.value?this.inactive:s.cyan().underline(this.inactive),s.gray("/"),this.value?s.cyan().underline(this.active):this.active].join(" "),this.out.write(p.line+n.to(0)+this.outputText))}}return ye=a,ye}var _e,Yt;function N(){if(Yt)return _e;Yt=1;class s{constructor({token:t,date:i,parts:r,locales:o}){this.token=t,this.date=i||new Date,this.parts=r||[this],this.locales=o||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find((i,r)=>r>t&&i instanceof s)}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const i=t.indexOf(this);return t.find((r,o)=>o>i&&r instanceof s)}toString(){return String(this.date)}}return _e=s,_e}var xe,Wt;function xr(){if(Wt)return xe;Wt=1;const s=N();class e extends s{constructor(i={}){super(i)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let i=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?i.toUpperCase():i}}return xe=e,xe}var Oe,Ut;function Or(){if(Ut)return Oe;Ut=1;const s=N(),e=i=>(i=i%10,i===1?"st":i===2?"nd":i===3?"rd":"th");class t extends s{constructor(r={}){super(r)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(r){this.date.setDate(parseInt(r.substr(-2)))}toString(){let r=this.date.getDate(),o=this.date.getDay();return this.token==="DD"?String(r).padStart(2,"0"):this.token==="Do"?r+e(r):this.token==="d"?o+1:this.token==="ddd"?this.locales.weekdaysShort[o]:this.token==="dddd"?this.locales.weekdays[o]:r}}return Oe=t,Oe}var $e,Gt;function $r(){if(Gt)return $e;Gt=1;const s=N();class e extends s{constructor(i={}){super(i)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(i){this.date.setHours(parseInt(i.substr(-2)))}toString(){let i=this.date.getHours();return/h/.test(this.token)&&(i=i%12||12),this.token.length>1?String(i).padStart(2,"0"):i}}return $e=e,$e}var Se,Bt;function Sr(){if(Bt)return Se;Bt=1;const s=N();class e extends s{constructor(i={}){super(i)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(i){this.date.setMilliseconds(parseInt(i.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return Se=e,Se}var Ce,Jt;function Cr(){if(Jt)return Ce;Jt=1;const s=N();class e extends s{constructor(i={}){super(i)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(i){this.date.setMinutes(parseInt(i.substr(-2)))}toString(){let i=this.date.getMinutes();return this.token.length>1?String(i).padStart(2,"0"):i}}return Ce=e,Ce}var Ae,zt;function Ar(){if(zt)return Ae;zt=1;const s=N();class e extends s{constructor(i={}){super(i)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(i){i=parseInt(i.substr(-2))-1,this.date.setMonth(i<0?0:i)}toString(){let i=this.date.getMonth(),r=this.token.length;return r===2?String(i+1).padStart(2,"0"):r===3?this.locales.monthsShort[i]:r===4?this.locales.months[i]:String(i+1)}}return Ae=e,Ae}var Ee,Kt;function Er(){if(Kt)return Ee;Kt=1;const s=N();class e extends s{constructor(i={}){super(i)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(i){this.date.setSeconds(parseInt(i.substr(-2)))}toString(){let i=this.date.getSeconds();return this.token.length>1?String(i).padStart(2,"0"):i}}return Ee=e,Ee}var Me,Zt;function Mr(){if(Zt)return Me;Zt=1;const s=N();class e extends s{constructor(i={}){super(i)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(i){this.date.setFullYear(i.substr(-4))}toString(){let i=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?i.substr(-2):i}}return Me=e,Me}var Pe,Xt;function Pr(){return Xt||(Xt=1,Pe={DatePart:N(),Meridiem:xr(),Day:Or(),Hours:$r(),Milliseconds:Sr(),Minutes:Cr(),Month:Ar(),Seconds:Er(),Year:Mr()}),Pe}var Te,Qt;function Tr(){if(Qt)return Te;Qt=1;function s(O,$,A,I,T,D,F){try{var R=O[D](F),q=R.value}catch(B){A(B);return}R.done?$(q):Promise.resolve(q).then(I,T)}function e(O){return function(){var $=this,A=arguments;return new Promise(function(I,T){var D=O.apply($,A);function F(q){s(D,I,T,F,R,"next",q)}function R(q){s(D,I,T,F,R,"throw",q)}F(void 0)})}}const t=M(),i=W(),r=V(),o=r.style,n=r.clear,p=r.figures,a=P(),l=a.erase,h=a.cursor,f=Pr(),m=f.DatePart,u=f.Meridiem,c=f.Day,w=f.Hours,v=f.Milliseconds,g=f.Minutes,d=f.Month,b=f.Seconds,_=f.Year,y=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,x={1:({token:O})=>O.replace(/\\(.)/g,"$1"),2:O=>new c(O),3:O=>new d(O),4:O=>new _(O),5:O=>new u(O),6:O=>new w(O),7:O=>new g(O),8:O=>new b(O),9:O=>new v(O)},C={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class S extends i{constructor($={}){super($),this.msg=$.message,this.cursor=0,this.typed="",this.locales=Object.assign(C,$.locales),this._date=$.initial||new Date,this.errorMsg=$.error||"Please Enter A Valid Value",this.validator=$.validate||(()=>!0),this.mask=$.mask||"YYYY-MM-DD HH:mm:ss",this.clear=n("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date($){$&&this._date.setTime($.getTime())}set mask($){let A;for(this.parts=[];A=y.exec($);){let T=A.shift(),D=A.findIndex(F=>F!=null);this.parts.push(D in x?x[D]({token:A[D]||T,date:this.date,parts:this.parts,locales:this.locales}):A[D]||T)}let I=this.parts.reduce((T,D)=>(typeof D=="string"&&typeof T[T.length-1]=="string"?T[T.length-1]+=D:T.push(D),T),[]);this.parts.splice(0),this.parts.push(...I),this.reset()}moveCursor($){this.typed="",this.cursor=$,this.fire()}reset(){this.moveCursor(this.parts.findIndex($=>$ instanceof m)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var $=this;return e(function*(){let A=yield $.validator($.value);typeof A=="string"&&($.errorMsg=A,A=!1),$.error=!A})()}submit(){var $=this;return e(function*(){if(yield $.validate(),$.error){$.color="red",$.fire(),$.render();return}$.done=!0,$.aborted=!1,$.fire(),$.render(),$.out.write(`
`),$.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let $=this.parts[this.cursor].prev();if($==null)return this.bell();this.moveCursor(this.parts.indexOf($)),this.render()}right(){let $=this.parts[this.cursor].next();if($==null)return this.bell();this.moveCursor(this.parts.indexOf($)),this.render()}next(){let $=this.parts[this.cursor].next();this.moveCursor($?this.parts.indexOf($):this.parts.findIndex(A=>A instanceof m)),this.render()}_($){/\d/.test($)&&(this.typed+=$,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(h.hide):this.out.write(n(this.outputText,this.out.columns)),super.render(),this.outputText=[o.symbol(this.done,this.aborted),t.bold(this.msg),o.delimiter(!1),this.parts.reduce(($,A,I)=>$.concat(I===this.cursor&&!this.done?t.cyan().underline(A.toString()):A),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce(($,A,I)=>$+`
${I?" ":p.pointerSmall} ${t.red().italic(A)}`,"")),this.out.write(l.line+h.to(0)+this.outputText))}}return Te=S,Te}var De,ei;function Dr(){if(ei)return De;ei=1;function s(v,g,d,b,_,y,x){try{var C=v[y](x),S=C.value}catch(O){d(O);return}C.done?g(S):Promise.resolve(S).then(b,_)}function e(v){return function(){var g=this,d=arguments;return new Promise(function(b,_){var y=v.apply(g,d);function x(S){s(y,b,_,x,C,"next",S)}function C(S){s(y,b,_,x,C,"throw",S)}x(void 0)})}}const t=M(),i=W(),r=P(),o=r.cursor,n=r.erase,p=V(),a=p.style,l=p.figures,h=p.clear,f=p.lines,m=/[0-9]/,u=v=>v!==void 0,c=(v,g)=>{let d=Math.pow(10,g);return Math.round(v*d)/d};class w extends i{constructor(g={}){super(g),this.transform=a.render(g.style),this.msg=g.message,this.initial=u(g.initial)?g.initial:"",this.float=!!g.float,this.round=g.round||2,this.inc=g.increment||1,this.min=u(g.min)?g.min:-1/0,this.max=u(g.max)?g.max:1/0,this.errorMsg=g.error||"Please Enter A Valid Value",this.validator=g.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(g){!g&&g!==0?(this.placeholder=!0,this.rendered=t.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${c(g,this.round)}`),this._value=c(g,this.round)),this.fire()}get value(){return this._value}parse(g){return this.float?parseFloat(g):parseInt(g)}valid(g){return g==="-"||g==="."&&this.float||m.test(g)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let g=this.value;this.value=g!==""?g:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var g=this;return e(function*(){let d=yield g.validator(g.value);typeof d=="string"&&(g.errorMsg=d,d=!1),g.error=!d})()}submit(){var g=this;return e(function*(){if(yield g.validate(),g.error){g.color="red",g.fire(),g.render();return}let d=g.value;g.value=d!==""?d:g.initial,g.done=!0,g.aborted=!1,g.error=!1,g.fire(),g.render(),g.out.write(`
`),g.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let g=this.value.toString();if(g.length===0)return this.bell();this.value=this.parse(g=g.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(g,d){if(!this.valid(g))return this.bell();const b=Date.now();if(b-this.lastHit>1e3&&(this.typed=""),this.typed+=g,this.lastHit=b,this.color="cyan",g===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(o.down(f(this.outputError,this.out.columns)-1)+h(this.outputError,this.out.columns)),this.out.write(h(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[a.symbol(this.done,this.aborted),t.bold(this.msg),a.delimiter(this.done),!this.done||!this.done&&!this.placeholder?t[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((g,d,b)=>g+`
${b?" ":l.pointerSmall} ${t.red().italic(d)}`,"")),this.out.write(n.line+o.to(0)+this.outputText+o.save+this.outputError+o.restore))}}return De=w,De}var qe,ti;function ii(){if(ti)return qe;ti=1;const s=M(),e=P(),t=e.cursor,i=W(),r=V(),o=r.clear,n=r.figures,p=r.style,a=r.wrap,l=r.entriesToDisplay;class h extends i{constructor(m={}){super(m),this.msg=m.message,this.cursor=m.cursor||0,this.scrollIndex=m.cursor||0,this.hint=m.hint||"",this.warn=m.warn||"- This option is disabled -",this.minSelected=m.min,this.showMinError=!1,this.maxChoices=m.max,this.instructions=m.instructions,this.optionsPerPage=m.optionsPerPage||10,this.value=m.choices.map((u,c)=>(typeof u=="string"&&(u={title:u,value:c}),{title:u&&(u.title||u.value||u),description:u&&u.description,value:u&&(u.value===void 0?c:u.value),selected:u&&u.selected,disabled:u&&u.disabled})),this.clear=o("",this.out.columns),m.overrideRender||this.render()}reset(){this.value.map(m=>!m.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(m=>m.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const m=this.value.filter(u=>u.selected);this.minSelected&&m.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(m=>m.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const m=this.value[this.cursor];if(m.selected)m.selected=!1,this.render();else{if(m.disabled||this.value.filter(u=>u.selected).length>=this.maxChoices)return this.bell();m.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const m=!this.value[this.cursor].selected;this.value.filter(u=>!u.disabled).forEach(u=>u.selected=m),this.render()}_(m,u){if(m===" ")this.handleSpaceToggle();else if(m==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${n.arrowUp}/${n.arrowDown}: Highlight option
    ${n.arrowLeft}/${n.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(m,u,c,w){const v=(u.selected?s.green(n.radioOn):n.radioOff)+" "+w+" ";let g,d;return u.disabled?g=m===c?s.gray().underline(u.title):s.strikethrough().gray(u.title):(g=m===c?s.cyan().underline(u.title):u.title,m===c&&u.description&&(d=` - ${u.description}`,(v.length+g.length+d.length>=this.out.columns||u.description.split(/\r?\n/).length>1)&&(d=`
`+a(u.description,{margin:v.length,width:this.out.columns})))),v+g+s.gray(d||"")}paginateOptions(m){if(m.length===0)return s.red("No matches for this query.");let u=l(this.cursor,m.length,this.optionsPerPage),c=u.startIndex,w=u.endIndex,v,g=[];for(let d=c;d<w;d++)d===c&&c>0?v=n.arrowUp:d===w-1&&w<m.length?v=n.arrowDown:v=" ",g.push(this.renderOption(this.cursor,m[d],d,v));return`
`+g.join(`
`)}renderOptions(m){return this.done?"":this.paginateOptions(m)}renderDoneOrInstructions(){if(this.done)return this.value.filter(u=>u.selected).map(u=>u.title).join(", ");const m=[s.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&m.push(s.yellow(this.warn)),m.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(t.hide),super.render();let m=[p.symbol(this.done,this.aborted),s.bold(this.msg),p.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(m+=s.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),m+=this.renderOptions(this.value),this.out.write(this.clear+m),this.clear=o(m,this.out.columns)}}return qe=h,qe}var Ie,ri;function qr(){if(ri)return Ie;ri=1;function s(g,d,b,_,y,x,C){try{var S=g[x](C),O=S.value}catch($){b($);return}S.done?d(O):Promise.resolve(O).then(_,y)}function e(g){return function(){var d=this,b=arguments;return new Promise(function(_,y){var x=g.apply(d,b);function C(O){s(x,_,y,C,S,"next",O)}function S(O){s(x,_,y,C,S,"throw",O)}C(void 0)})}}const t=M(),i=W(),r=P(),o=r.erase,n=r.cursor,p=V(),a=p.style,l=p.clear,h=p.figures,f=p.wrap,m=p.entriesToDisplay,u=(g,d)=>g[d]&&(g[d].value||g[d].title||g[d]),c=(g,d)=>g[d]&&(g[d].title||g[d].value||g[d]),w=(g,d)=>{const b=g.findIndex(_=>_.value===d||_.title===d);return b>-1?b:void 0};class v extends i{constructor(d={}){super(d),this.msg=d.message,this.suggest=d.suggest,this.choices=d.choices,this.initial=typeof d.initial=="number"?d.initial:w(d.choices,d.initial),this.select=this.initial||d.cursor||0,this.i18n={noMatches:d.noMatches||"no matches found"},this.fallback=d.fallback||this.initial,this.clearFirst=d.clearFirst||!1,this.suggestions=[],this.input="",this.limit=d.limit||10,this.cursor=0,this.transform=a.render(d.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=l("",this.out.columns),this.complete(this.render),this.render()}set fallback(d){this._fb=Number.isSafeInteger(parseInt(d))?parseInt(d):d}get fallback(){let d;return typeof this._fb=="number"?d=this.choices[this._fb]:typeof this._fb=="string"&&(d={title:this._fb}),d||this._fb||{title:this.i18n.noMatches}}moveSelect(d){this.select=d,this.suggestions.length>0?this.value=u(this.suggestions,d):this.value=this.fallback.value,this.fire()}complete(d){var b=this;return e(function*(){const _=b.completing=b.suggest(b.input,b.choices),y=yield _;if(b.completing!==_)return;b.suggestions=y.map((C,S,O)=>({title:c(O,S),value:u(O,S),description:C.description})),b.completing=!1;const x=Math.max(y.length-1,0);b.moveSelect(Math.min(x,b.select)),d&&d()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(d,b){let _=this.input.slice(0,this.cursor),y=this.input.slice(this.cursor);this.input=`${_}${d}${y}`,this.cursor=_.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let d=this.input.slice(0,this.cursor-1),b=this.input.slice(this.cursor);this.input=`${d}${b}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let d=this.input.slice(0,this.cursor),b=this.input.slice(this.cursor+1);this.input=`${d}${b}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(d,b,_,y){let x,C=_?h.arrowUp:y?h.arrowDown:" ",S=b?t.cyan().underline(d.title):d.title;return C=(b?t.cyan(h.pointer)+" ":"  ")+C,d.description&&(x=` - ${d.description}`,(C.length+S.length+x.length>=this.out.columns||d.description.split(/\r?\n/).length>1)&&(x=`
`+f(d.description,{margin:3,width:this.out.columns}))),C+" "+S+t.gray(x||"")}render(){if(this.closed)return;this.firstRender?this.out.write(n.hide):this.out.write(l(this.outputText,this.out.columns)),super.render();let d=m(this.select,this.choices.length,this.limit),b=d.startIndex,_=d.endIndex;if(this.outputText=[a.symbol(this.done,this.aborted,this.exited),t.bold(this.msg),a.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const y=this.suggestions.slice(b,_).map((x,C)=>this.renderOption(x,this.select===C+b,C===0&&b>0,C+b===_-1&&_<this.choices.length)).join(`
`);this.outputText+=`
`+(y||t.gray(this.fallback.title))}this.out.write(o.line+n.to(0)+this.outputText)}}return Ie=v,Ie}var Re,si;function Ir(){if(si)return Re;si=1;const s=M(),e=P(),t=e.cursor,i=ii(),r=V(),o=r.clear,n=r.style,p=r.figures;class a extends i{constructor(h={}){h.overrideRender=!0,super(h),this.inputValue="",this.clear=o("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(h=>h.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const h=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(m=>this.inputValue?!!(typeof m.title=="string"&&m.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof m.value=="string"&&m.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const f=this.filteredOptions.findIndex(m=>m===h);this.cursor=f<0?0:f,this.render()}handleSpaceToggle(){const h=this.filteredOptions[this.cursor];if(h.selected)h.selected=!1,this.render();else{if(h.disabled||this.value.filter(f=>f.selected).length>=this.maxChoices)return this.bell();h.selected=!0,this.render()}}handleInputChange(h){this.inputValue=this.inputValue+h,this.updateFilteredOptions()}_(h,f){h===" "?this.handleSpaceToggle():this.handleInputChange(h)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${p.arrowUp}/${p.arrowDown}: Highlight option
    ${p.arrowLeft}/${p.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:s.gray("Enter something to filter")}
`}renderOption(h,f,m){let u;return f.disabled?u=h===m?s.gray().underline(f.title):s.strikethrough().gray(f.title):u=h===m?s.cyan().underline(f.title):f.title,(f.selected?s.green(p.radioOn):p.radioOff)+"  "+u}renderDoneOrInstructions(){if(this.done)return this.value.filter(f=>f.selected).map(f=>f.title).join(", ");const h=[s.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&h.push(s.yellow(this.warn)),h.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(t.hide),super.render();let h=[n.symbol(this.done,this.aborted),s.bold(this.msg),n.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(h+=s.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),h+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+h),this.clear=o(h,this.out.columns)}}return Re=a,Re}var ke,ni;function Rr(){if(ni)return ke;ni=1;const s=M(),e=W(),t=V(),i=t.style,r=t.clear,o=P(),n=o.erase,p=o.cursor;class a extends e{constructor(h={}){super(h),this.msg=h.message,this.value=h.initial,this.initialValue=!!h.initial,this.yesMsg=h.yes||"yes",this.yesOption=h.yesOption||"(Y/n)",this.noMsg=h.no||"no",this.noOption=h.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(h,f){return h.toLowerCase()==="y"?(this.value=!0,this.submit()):h.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(p.hide):this.out.write(r(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),s.bold(this.msg),i.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:s.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(n.line+p.to(0)+this.outputText))}}return ke=a,ke}var He,oi;function kr(){return oi||(oi=1,He={TextPrompt:wr(),SelectPrompt:yr(),TogglePrompt:_r(),DatePrompt:Tr(),NumberPrompt:Dr(),MultiselectPrompt:ii(),AutocompletePrompt:qr(),AutocompleteMultiselectPrompt:Ir(),ConfirmPrompt:Rr()}),He}var hi;function Hr(){return hi||(hi=1,function(s){const e=s,t=kr(),i=n=>n;function r(n,p,a={}){return new Promise((l,h)=>{const f=new t[n](p),m=a.onAbort||i,u=a.onSubmit||i,c=a.onExit||i;f.on("state",p.onState||i),f.on("submit",w=>l(u(w))),f.on("exit",w=>l(c(w))),f.on("abort",w=>h(m(w)))})}e.text=n=>r("TextPrompt",n),e.password=n=>(n.style="password",e.text(n)),e.invisible=n=>(n.style="invisible",e.text(n)),e.number=n=>r("NumberPrompt",n),e.date=n=>r("DatePrompt",n),e.confirm=n=>r("ConfirmPrompt",n),e.list=n=>{const p=n.separator||",";return r("TextPrompt",n,{onSubmit:a=>a.split(p).map(l=>l.trim())})},e.toggle=n=>r("TogglePrompt",n),e.select=n=>r("SelectPrompt",n),e.multiselect=n=>{n.choices=[].concat(n.choices||[]);const p=a=>a.filter(l=>l.selected).map(l=>l.value);return r("MultiselectPrompt",n,{onAbort:p,onSubmit:p})},e.autocompleteMultiselect=n=>{n.choices=[].concat(n.choices||[]);const p=a=>a.filter(l=>l.selected).map(l=>l.value);return r("AutocompleteMultiselectPrompt",n,{onAbort:p,onSubmit:p})};const o=(n,p)=>Promise.resolve(p.filter(a=>a.title.slice(0,n.length).toLowerCase()===n.toLowerCase()));e.autocomplete=n=>(n.suggest=n.suggest||o,n.choices=[].concat(n.choices||[]),r("AutocompletePrompt",n))}(se)),se}var Fe,ai;function Fr(){if(ai)return Fe;ai=1;function s(v,g){var d=Object.keys(v);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(v);g&&(b=b.filter(function(_){return Object.getOwnPropertyDescriptor(v,_).enumerable})),d.push.apply(d,b)}return d}function e(v){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?arguments[g]:{};g%2?s(Object(d),!0).forEach(function(b){t(v,b,d[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(d)):s(Object(d)).forEach(function(b){Object.defineProperty(v,b,Object.getOwnPropertyDescriptor(d,b))})}return v}function t(v,g,d){return g in v?Object.defineProperty(v,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):v[g]=d,v}function i(v,g){var d=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!d){if(Array.isArray(v)||(d=r(v))||g&&v&&typeof v.length=="number"){d&&(v=d);var b=0,_=function(){};return{s:_,n:function(){return b>=v.length?{done:!0}:{done:!1,value:v[b++]}},e:function(O){throw O},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=!0,x=!1,C;return{s:function(){d=d.call(v)},n:function(){var O=d.next();return y=O.done,O},e:function(O){x=!0,C=O},f:function(){try{!y&&d.return!=null&&d.return()}finally{if(x)throw C}}}}function r(v,g){if(v){if(typeof v=="string")return o(v,g);var d=Object.prototype.toString.call(v).slice(8,-1);if(d==="Object"&&v.constructor&&(d=v.constructor.name),d==="Map"||d==="Set")return Array.from(v);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return o(v,g)}}function o(v,g){(g==null||g>v.length)&&(g=v.length);for(var d=0,b=new Array(g);d<g;d++)b[d]=v[d];return b}function n(v,g,d,b,_,y,x){try{var C=v[y](x),S=C.value}catch(O){d(O);return}C.done?g(S):Promise.resolve(S).then(b,_)}function p(v){return function(){var g=this,d=arguments;return new Promise(function(b,_){var y=v.apply(g,d);function x(S){n(y,b,_,x,C,"next",S)}function C(S){n(y,b,_,x,C,"throw",S)}x(void 0)})}}const a=Hr(),l=["suggest","format","onState","validate","onRender","type"],h=()=>{};function f(){return m.apply(this,arguments)}function m(){return m=p(function*(v=[],{onSubmit:g=h,onCancel:d=h}={}){const b={},_=f._override||{};v=[].concat(v);let y,x,C,S,O,$;const A=function(){var R=p(function*(q,B,$t=!1){if(!(!$t&&q.validate&&q.validate(B)!==!0))return q.format?yield q.format(B,b):B});return function(B,$t){return R.apply(this,arguments)}}();var I=i(v),T;try{for(I.s();!(T=I.n()).done;){x=T.value;var D=x;if(S=D.name,O=D.type,typeof O=="function"&&(O=yield O(y,e({},b),x),x.type=O),!!O){for(let R in x){if(l.includes(R))continue;let q=x[R];x[R]=typeof q=="function"?yield q(y,e({},b),$):q}if($=x,typeof x.message!="string")throw new Error("prompt message is required");var F=x;if(S=F.name,O=F.type,a[O]===void 0)throw new Error(`prompt type (${O}) is not defined`);if(_[x.name]!==void 0&&(y=yield A(x,_[x.name]),y!==void 0)){b[S]=y;continue}try{y=f._injected?u(f._injected,x.initial):yield a[O](x),b[S]=y=yield A(x,y,!0),C=yield g(x,y,b)}catch{C=!(yield d(x,b))}if(C)return b}}}catch(R){I.e(R)}finally{I.f()}return b}),m.apply(this,arguments)}function u(v,g){const d=v.shift();if(d instanceof Error)throw d;return d===void 0?g:d}function c(v){f._injected=(f._injected||[]).concat(v)}function w(v){f._override=Object.assign({},v)}return Fe=Object.assign(f,{prompt:f,prompts:a,inject:c,override:w}),Fe}var Ve={},je,li;function Vr(){return li||(li=1,je=(s,e)=>{if(!(s.meta&&s.name!=="escape")){if(s.ctrl){if(s.name==="a")return"first";if(s.name==="c"||s.name==="d")return"abort";if(s.name==="e")return"last";if(s.name==="g")return"reset"}if(e){if(s.name==="j")return"down";if(s.name==="k")return"up"}return s.name==="return"||s.name==="enter"?"submit":s.name==="backspace"?"delete":s.name==="delete"?"deleteForward":s.name==="abort"?"abort":s.name==="escape"?"exit":s.name==="tab"?"next":s.name==="pagedown"?"nextPage":s.name==="pageup"?"prevPage":s.name==="home"?"home":s.name==="end"?"end":s.name==="up"?"up":s.name==="down"?"down":s.name==="right"?"right":s.name==="left"?"left":!1}}),je}var Ne,ui;function Le(){return ui||(ui=1,Ne=s=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),t=new RegExp(e,"g");return typeof s=="string"?s.replace(t,""):s}),Ne}var Ye,ci;function jr(){if(ci)return Ye;ci=1;const s=Le(),{erase:e,cursor:t}=P(),i=r=>[...s(r)].length;return Ye=function(r,o){if(!o)return e.line+t.to(0);let n=0;const p=r.split(/\r?\n/);for(let a of p)n+=1+Math.floor(Math.max(i(a)-1,0)/o);return e.lines(n)},Ye}var We,di;function fi(){if(di)return We;di=1;const s={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},e={arrowUp:s.arrowUp,arrowDown:s.arrowDown,arrowLeft:s.arrowLeft,arrowRight:s.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return We=process.platform==="win32"?e:s,We}var Ue,pi;function Nr(){if(pi)return Ue;pi=1;const s=M(),e=fi(),t=Object.freeze({password:{scale:1,render:a=>"*".repeat(a.length)},emoji:{scale:2,render:a=>"\u{1F603}".repeat(a.length)},invisible:{scale:0,render:a=>""},default:{scale:1,render:a=>`${a}`}}),i=a=>t[a]||t.default,r=Object.freeze({aborted:s.red(e.cross),done:s.green(e.tick),exited:s.yellow(e.cross),default:s.cyan("?")});return Ue={styles:t,render:i,symbols:r,symbol:(a,l,h)=>l?r.aborted:h?r.exited:a?r.done:r.default,delimiter:a=>s.gray(a?e.ellipsis:e.pointerSmall),item:(a,l)=>s.gray(a?l?e.pointerSmall:"+":e.line)},Ue}var Ge,mi;function Lr(){if(mi)return Ge;mi=1;const s=Le();return Ge=function(e,t){let i=String(s(e)||"").split(/\r?\n/);return t?i.map(r=>Math.ceil(r.length/t)).reduce((r,o)=>r+o):i.length},Ge}var Be,gi;function Yr(){return gi||(gi=1,Be=(s,e={})=>{const t=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(s||"").split(/\r?\n/g).map(r=>r.split(/\s+/g).reduce((o,n)=>(n.length+t.length>=i||o[o.length-1].length+n.length+1<i?o[o.length-1]+=` ${n}`:o.push(`${t}${n}`),o),[t]).join(`
`)).join(`
`)}),Be}var Je,vi;function Wr(){return vi||(vi=1,Je=(s,e,t)=>{t=t||e;let i=Math.min(e-t,s-Math.floor(t/2));i<0&&(i=0);let r=Math.min(i+t,e);return{startIndex:i,endIndex:r}}),Je}var ze,bi;function j(){return bi||(bi=1,ze={action:Vr(),clear:jr(),style:Nr(),strip:Le(),figures:fi(),lines:Lr(),wrap:Yr(),entriesToDisplay:Wr()}),ze}var Ke,wi;function U(){if(wi)return Ke;wi=1;const s=St,{action:e}=j(),t=re,{beep:i,cursor:r}=P(),o=M();class n extends t{constructor(a={}){super(),this.firstRender=!0,this.in=a.stdin||process.stdin,this.out=a.stdout||process.stdout,this.onRender=(a.onRender||(()=>{})).bind(this);const l=s.createInterface({input:this.in,escapeCodeTimeout:50});s.emitKeypressEvents(this.in,l),this.in.isTTY&&this.in.setRawMode(!0);const h=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,f=(m,u)=>{let c=e(u,h);c===!1?this._&&this._(m,u):typeof this[c]=="function"?this[c](u):this.bell()};this.close=()=>{this.out.write(r.show),this.in.removeListener("keypress",f),this.in.isTTY&&this.in.setRawMode(!1),l.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",f)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(i)}render(){this.onRender(o),this.firstRender&&(this.firstRender=!1)}}return Ke=n,Ke}var Ze,yi;function Ur(){if(yi)return Ze;yi=1;const s=M(),e=U(),{erase:t,cursor:i}=P(),{style:r,clear:o,lines:n,figures:p}=j();class a extends e{constructor(h={}){super(h),this.transform=r.render(h.style),this.scale=this.transform.scale,this.msg=h.message,this.initial=h.initial||"",this.validator=h.validate||(()=>!0),this.value="",this.errorMsg=h.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=o("",this.out.columns),this.render()}set value(h){!h&&this.initial?(this.placeholder=!0,this.rendered=s.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(h)),this._value=h,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let h=await this.validator(this.value);typeof h=="string"&&(this.errorMsg=h,h=!1),this.error=!h}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(h){this.placeholder||(this.cursor=this.cursor+h,this.cursorOffset+=h)}_(h,f){let m=this.value.slice(0,this.cursor),u=this.value.slice(this.cursor);this.value=`${m}${h}${u}`,this.red=!1,this.cursor=this.placeholder?0:m.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let h=this.value.slice(0,this.cursor-1),f=this.value.slice(this.cursor);this.value=`${h}${f}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let h=this.value.slice(0,this.cursor),f=this.value.slice(this.cursor+1);this.value=`${h}${f}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(i.down(n(this.outputError,this.out.columns)-1)+o(this.outputError,this.out.columns)),this.out.write(o(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[r.symbol(this.done,this.aborted),s.bold(this.msg),r.delimiter(this.done),this.red?s.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((h,f,m)=>h+`
${m?" ":p.pointerSmall} ${s.red().italic(f)}`,"")),this.out.write(t.line+i.to(0)+this.outputText+i.save+this.outputError+i.restore+i.move(this.cursorOffset,0)))}}return Ze=a,Ze}var Xe,_i;function Gr(){if(_i)return Xe;_i=1;const s=M(),e=U(),{style:t,clear:i,figures:r,wrap:o,entriesToDisplay:n}=j(),{cursor:p}=P();class a extends e{constructor(h={}){super(h),this.msg=h.message,this.hint=h.hint||"- Use arrow-keys. Return to submit.",this.warn=h.warn||"- This option is disabled",this.cursor=h.initial||0,this.choices=h.choices.map((f,m)=>(typeof f=="string"&&(f={title:f,value:m}),{title:f&&(f.title||f.value||f),value:f&&(f.value===void 0?m:f.value),description:f&&f.description,selected:f&&f.selected,disabled:f&&f.disabled})),this.optionsPerPage=h.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=i("",this.out.columns),this.render()}moveCursor(h){this.cursor=h,this.value=this.choices[h].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(h,f){if(h===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(p.hide):this.out.write(i(this.outputText,this.out.columns)),super.render();let{startIndex:h,endIndex:f}=n(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[t.symbol(this.done,this.aborted),s.bold(this.msg),t.delimiter(!1),this.done?this.selection.title:this.selection.disabled?s.yellow(this.warn):s.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let m=h;m<f;m++){let u,c,w="",v=this.choices[m];m===h&&h>0?c=r.arrowUp:m===f-1&&f<this.choices.length?c=r.arrowDown:c=" ",v.disabled?(u=this.cursor===m?s.gray().underline(v.title):s.strikethrough().gray(v.title),c=(this.cursor===m?s.bold().gray(r.pointer)+" ":"  ")+c):(u=this.cursor===m?s.cyan().underline(v.title):v.title,c=(this.cursor===m?s.cyan(r.pointer)+" ":"  ")+c,v.description&&this.cursor===m&&(w=` - ${v.description}`,(c.length+u.length+w.length>=this.out.columns||v.description.split(/\r?\n/).length>1)&&(w=`
`+o(v.description,{margin:3,width:this.out.columns})))),this.outputText+=`${c} ${u}${s.gray(w)}
`}}this.out.write(this.outputText)}}return Xe=a,Xe}var Qe,xi;function Br(){if(xi)return Qe;xi=1;const s=M(),e=U(),{style:t,clear:i}=j(),{cursor:r,erase:o}=P();class n extends e{constructor(a={}){super(a),this.msg=a.message,this.value=!!a.initial,this.active=a.active||"on",this.inactive=a.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(a,l){if(a===" ")this.value=!this.value;else if(a==="1")this.value=!0;else if(a==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(r.hide):this.out.write(i(this.outputText,this.out.columns)),super.render(),this.outputText=[t.symbol(this.done,this.aborted),s.bold(this.msg),t.delimiter(this.done),this.value?this.inactive:s.cyan().underline(this.inactive),s.gray("/"),this.value?s.cyan().underline(this.active):this.active].join(" "),this.out.write(o.line+r.to(0)+this.outputText))}}return Qe=n,Qe}var et,Oi;function L(){if(Oi)return et;Oi=1;class s{constructor({token:t,date:i,parts:r,locales:o}){this.token=t,this.date=i||new Date,this.parts=r||[this],this.locales=o||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find((i,r)=>r>t&&i instanceof s)}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const i=t.indexOf(this);return t.find((r,o)=>o>i&&r instanceof s)}toString(){return String(this.date)}}return et=s,et}var tt,$i;function Jr(){if($i)return tt;$i=1;const s=L();class e extends s{constructor(i={}){super(i)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let i=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?i.toUpperCase():i}}return tt=e,tt}var it,Si;function zr(){if(Si)return it;Si=1;const s=L(),e=i=>(i=i%10,i===1?"st":i===2?"nd":i===3?"rd":"th");class t extends s{constructor(r={}){super(r)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(r){this.date.setDate(parseInt(r.substr(-2)))}toString(){let r=this.date.getDate(),o=this.date.getDay();return this.token==="DD"?String(r).padStart(2,"0"):this.token==="Do"?r+e(r):this.token==="d"?o+1:this.token==="ddd"?this.locales.weekdaysShort[o]:this.token==="dddd"?this.locales.weekdays[o]:r}}return it=t,it}var rt,Ci;function Kr(){if(Ci)return rt;Ci=1;const s=L();class e extends s{constructor(i={}){super(i)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(i){this.date.setHours(parseInt(i.substr(-2)))}toString(){let i=this.date.getHours();return/h/.test(this.token)&&(i=i%12||12),this.token.length>1?String(i).padStart(2,"0"):i}}return rt=e,rt}var st,Ai;function Zr(){if(Ai)return st;Ai=1;const s=L();class e extends s{constructor(i={}){super(i)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(i){this.date.setMilliseconds(parseInt(i.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return st=e,st}var nt,Ei;function Xr(){if(Ei)return nt;Ei=1;const s=L();class e extends s{constructor(i={}){super(i)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(i){this.date.setMinutes(parseInt(i.substr(-2)))}toString(){let i=this.date.getMinutes();return this.token.length>1?String(i).padStart(2,"0"):i}}return nt=e,nt}var ot,Mi;function Qr(){if(Mi)return ot;Mi=1;const s=L();class e extends s{constructor(i={}){super(i)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(i){i=parseInt(i.substr(-2))-1,this.date.setMonth(i<0?0:i)}toString(){let i=this.date.getMonth(),r=this.token.length;return r===2?String(i+1).padStart(2,"0"):r===3?this.locales.monthsShort[i]:r===4?this.locales.months[i]:String(i+1)}}return ot=e,ot}var ht,Pi;function es(){if(Pi)return ht;Pi=1;const s=L();class e extends s{constructor(i={}){super(i)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(i){this.date.setSeconds(parseInt(i.substr(-2)))}toString(){let i=this.date.getSeconds();return this.token.length>1?String(i).padStart(2,"0"):i}}return ht=e,ht}var at,Ti;function ts(){if(Ti)return at;Ti=1;const s=L();class e extends s{constructor(i={}){super(i)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(i){this.date.setFullYear(i.substr(-4))}toString(){let i=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?i.substr(-2):i}}return at=e,at}var lt,Di;function is(){return Di||(Di=1,lt={DatePart:L(),Meridiem:Jr(),Day:zr(),Hours:Kr(),Milliseconds:Zr(),Minutes:Xr(),Month:Qr(),Seconds:es(),Year:ts()}),lt}var ut,qi;function rs(){if(qi)return ut;qi=1;const s=M(),e=U(),{style:t,clear:i,figures:r}=j(),{erase:o,cursor:n}=P(),{DatePart:p,Meridiem:a,Day:l,Hours:h,Milliseconds:f,Minutes:m,Month:u,Seconds:c,Year:w}=is(),v=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,g={1:({token:_})=>_.replace(/\\(.)/g,"$1"),2:_=>new l(_),3:_=>new u(_),4:_=>new w(_),5:_=>new a(_),6:_=>new h(_),7:_=>new m(_),8:_=>new c(_),9:_=>new f(_)},d={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class b extends e{constructor(y={}){super(y),this.msg=y.message,this.cursor=0,this.typed="",this.locales=Object.assign(d,y.locales),this._date=y.initial||new Date,this.errorMsg=y.error||"Please Enter A Valid Value",this.validator=y.validate||(()=>!0),this.mask=y.mask||"YYYY-MM-DD HH:mm:ss",this.clear=i("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(y){y&&this._date.setTime(y.getTime())}set mask(y){let x;for(this.parts=[];x=v.exec(y);){let S=x.shift(),O=x.findIndex($=>$!=null);this.parts.push(O in g?g[O]({token:x[O]||S,date:this.date,parts:this.parts,locales:this.locales}):x[O]||S)}let C=this.parts.reduce((S,O)=>(typeof O=="string"&&typeof S[S.length-1]=="string"?S[S.length-1]+=O:S.push(O),S),[]);this.parts.splice(0),this.parts.push(...C),this.reset()}moveCursor(y){this.typed="",this.cursor=y,this.fire()}reset(){this.moveCursor(this.parts.findIndex(y=>y instanceof p)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let y=await this.validator(this.value);typeof y=="string"&&(this.errorMsg=y,y=!1),this.error=!y}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let y=this.parts[this.cursor].prev();if(y==null)return this.bell();this.moveCursor(this.parts.indexOf(y)),this.render()}right(){let y=this.parts[this.cursor].next();if(y==null)return this.bell();this.moveCursor(this.parts.indexOf(y)),this.render()}next(){let y=this.parts[this.cursor].next();this.moveCursor(y?this.parts.indexOf(y):this.parts.findIndex(x=>x instanceof p)),this.render()}_(y){/\d/.test(y)&&(this.typed+=y,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(n.hide):this.out.write(i(this.outputText,this.out.columns)),super.render(),this.outputText=[t.symbol(this.done,this.aborted),s.bold(this.msg),t.delimiter(!1),this.parts.reduce((y,x,C)=>y.concat(C===this.cursor&&!this.done?s.cyan().underline(x.toString()):x),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((y,x,C)=>y+`
${C?" ":r.pointerSmall} ${s.red().italic(x)}`,"")),this.out.write(o.line+n.to(0)+this.outputText))}}return ut=b,ut}var ct,Ii;function ss(){if(Ii)return ct;Ii=1;const s=M(),e=U(),{cursor:t,erase:i}=P(),{style:r,figures:o,clear:n,lines:p}=j(),a=/[0-9]/,l=m=>m!==void 0,h=(m,u)=>{let c=Math.pow(10,u);return Math.round(m*c)/c};class f extends e{constructor(u={}){super(u),this.transform=r.render(u.style),this.msg=u.message,this.initial=l(u.initial)?u.initial:"",this.float=!!u.float,this.round=u.round||2,this.inc=u.increment||1,this.min=l(u.min)?u.min:-1/0,this.max=l(u.max)?u.max:1/0,this.errorMsg=u.error||"Please Enter A Valid Value",this.validator=u.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(u){!u&&u!==0?(this.placeholder=!0,this.rendered=s.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${h(u,this.round)}`),this._value=h(u,this.round)),this.fire()}get value(){return this._value}parse(u){return this.float?parseFloat(u):parseInt(u)}valid(u){return u==="-"||u==="."&&this.float||a.test(u)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let u=this.value;this.value=u!==""?u:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let u=await this.validator(this.value);typeof u=="string"&&(this.errorMsg=u,u=!1),this.error=!u}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let u=this.value;this.value=u!==""?u:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let u=this.value.toString();if(u.length===0)return this.bell();this.value=this.parse(u=u.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(u,c){if(!this.valid(u))return this.bell();const w=Date.now();if(w-this.lastHit>1e3&&(this.typed=""),this.typed+=u,this.lastHit=w,this.color="cyan",u===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(t.down(p(this.outputError,this.out.columns)-1)+n(this.outputError,this.out.columns)),this.out.write(n(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[r.symbol(this.done,this.aborted),s.bold(this.msg),r.delimiter(this.done),!this.done||!this.done&&!this.placeholder?s[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((u,c,w)=>u+`
${w?" ":o.pointerSmall} ${s.red().italic(c)}`,"")),this.out.write(i.line+t.to(0)+this.outputText+t.save+this.outputError+t.restore))}}return ct=f,ct}var dt,Ri;function ki(){if(Ri)return dt;Ri=1;const s=M(),{cursor:e}=P(),t=U(),{clear:i,figures:r,style:o,wrap:n,entriesToDisplay:p}=j();class a extends t{constructor(h={}){super(h),this.msg=h.message,this.cursor=h.cursor||0,this.scrollIndex=h.cursor||0,this.hint=h.hint||"",this.warn=h.warn||"- This option is disabled -",this.minSelected=h.min,this.showMinError=!1,this.maxChoices=h.max,this.instructions=h.instructions,this.optionsPerPage=h.optionsPerPage||10,this.value=h.choices.map((f,m)=>(typeof f=="string"&&(f={title:f,value:m}),{title:f&&(f.title||f.value||f),description:f&&f.description,value:f&&(f.value===void 0?m:f.value),selected:f&&f.selected,disabled:f&&f.disabled})),this.clear=i("",this.out.columns),h.overrideRender||this.render()}reset(){this.value.map(h=>!h.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(h=>h.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const h=this.value.filter(f=>f.selected);this.minSelected&&h.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(h=>h.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const h=this.value[this.cursor];if(h.selected)h.selected=!1,this.render();else{if(h.disabled||this.value.filter(f=>f.selected).length>=this.maxChoices)return this.bell();h.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const h=!this.value[this.cursor].selected;this.value.filter(f=>!f.disabled).forEach(f=>f.selected=h),this.render()}_(h,f){if(h===" ")this.handleSpaceToggle();else if(h==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${r.arrowUp}/${r.arrowDown}: Highlight option
    ${r.arrowLeft}/${r.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(h,f,m,u){const c=(f.selected?s.green(r.radioOn):r.radioOff)+" "+u+" ";let w,v;return f.disabled?w=h===m?s.gray().underline(f.title):s.strikethrough().gray(f.title):(w=h===m?s.cyan().underline(f.title):f.title,h===m&&f.description&&(v=` - ${f.description}`,(c.length+w.length+v.length>=this.out.columns||f.description.split(/\r?\n/).length>1)&&(v=`
`+n(f.description,{margin:c.length,width:this.out.columns})))),c+w+s.gray(v||"")}paginateOptions(h){if(h.length===0)return s.red("No matches for this query.");let{startIndex:f,endIndex:m}=p(this.cursor,h.length,this.optionsPerPage),u,c=[];for(let w=f;w<m;w++)w===f&&f>0?u=r.arrowUp:w===m-1&&m<h.length?u=r.arrowDown:u=" ",c.push(this.renderOption(this.cursor,h[w],w,u));return`
`+c.join(`
`)}renderOptions(h){return this.done?"":this.paginateOptions(h)}renderDoneOrInstructions(){if(this.done)return this.value.filter(f=>f.selected).map(f=>f.title).join(", ");const h=[s.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&h.push(s.yellow(this.warn)),h.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let h=[o.symbol(this.done,this.aborted),s.bold(this.msg),o.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(h+=s.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),h+=this.renderOptions(this.value),this.out.write(this.clear+h),this.clear=i(h,this.out.columns)}}return dt=a,dt}var ft,Hi;function ns(){if(Hi)return ft;Hi=1;const s=M(),e=U(),{erase:t,cursor:i}=P(),{style:r,clear:o,figures:n,wrap:p,entriesToDisplay:a}=j(),l=(u,c)=>u[c]&&(u[c].value||u[c].title||u[c]),h=(u,c)=>u[c]&&(u[c].title||u[c].value||u[c]),f=(u,c)=>{const w=u.findIndex(v=>v.value===c||v.title===c);return w>-1?w:void 0};class m extends e{constructor(c={}){super(c),this.msg=c.message,this.suggest=c.suggest,this.choices=c.choices,this.initial=typeof c.initial=="number"?c.initial:f(c.choices,c.initial),this.select=this.initial||c.cursor||0,this.i18n={noMatches:c.noMatches||"no matches found"},this.fallback=c.fallback||this.initial,this.clearFirst=c.clearFirst||!1,this.suggestions=[],this.input="",this.limit=c.limit||10,this.cursor=0,this.transform=r.render(c.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=o("",this.out.columns),this.complete(this.render),this.render()}set fallback(c){this._fb=Number.isSafeInteger(parseInt(c))?parseInt(c):c}get fallback(){let c;return typeof this._fb=="number"?c=this.choices[this._fb]:typeof this._fb=="string"&&(c={title:this._fb}),c||this._fb||{title:this.i18n.noMatches}}moveSelect(c){this.select=c,this.suggestions.length>0?this.value=l(this.suggestions,c):this.value=this.fallback.value,this.fire()}async complete(c){const w=this.completing=this.suggest(this.input,this.choices),v=await w;if(this.completing!==w)return;this.suggestions=v.map((d,b,_)=>({title:h(_,b),value:l(_,b),description:d.description})),this.completing=!1;const g=Math.max(v.length-1,0);this.moveSelect(Math.min(g,this.select)),c&&c()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(c,w){let v=this.input.slice(0,this.cursor),g=this.input.slice(this.cursor);this.input=`${v}${c}${g}`,this.cursor=v.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let c=this.input.slice(0,this.cursor-1),w=this.input.slice(this.cursor);this.input=`${c}${w}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let c=this.input.slice(0,this.cursor),w=this.input.slice(this.cursor+1);this.input=`${c}${w}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(c,w,v,g){let d,b=v?n.arrowUp:g?n.arrowDown:" ",_=w?s.cyan().underline(c.title):c.title;return b=(w?s.cyan(n.pointer)+" ":"  ")+b,c.description&&(d=` - ${c.description}`,(b.length+_.length+d.length>=this.out.columns||c.description.split(/\r?\n/).length>1)&&(d=`
`+p(c.description,{margin:3,width:this.out.columns}))),b+" "+_+s.gray(d||"")}render(){if(this.closed)return;this.firstRender?this.out.write(i.hide):this.out.write(o(this.outputText,this.out.columns)),super.render();let{startIndex:c,endIndex:w}=a(this.select,this.choices.length,this.limit);if(this.outputText=[r.symbol(this.done,this.aborted,this.exited),s.bold(this.msg),r.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const v=this.suggestions.slice(c,w).map((g,d)=>this.renderOption(g,this.select===d+c,d===0&&c>0,d+c===w-1&&w<this.choices.length)).join(`
`);this.outputText+=`
`+(v||s.gray(this.fallback.title))}this.out.write(t.line+i.to(0)+this.outputText)}}return ft=m,ft}var pt,Fi;function os(){if(Fi)return pt;Fi=1;const s=M(),{cursor:e}=P(),t=ki(),{clear:i,style:r,figures:o}=j();class n extends t{constructor(a={}){a.overrideRender=!0,super(a),this.inputValue="",this.clear=i("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const a=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(h=>this.inputValue?!!(typeof h.title=="string"&&h.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof h.value=="string"&&h.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const l=this.filteredOptions.findIndex(h=>h===a);this.cursor=l<0?0:l,this.render()}handleSpaceToggle(){const a=this.filteredOptions[this.cursor];if(a.selected)a.selected=!1,this.render();else{if(a.disabled||this.value.filter(l=>l.selected).length>=this.maxChoices)return this.bell();a.selected=!0,this.render()}}handleInputChange(a){this.inputValue=this.inputValue+a,this.updateFilteredOptions()}_(a,l){a===" "?this.handleSpaceToggle():this.handleInputChange(a)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${o.arrowUp}/${o.arrowDown}: Highlight option
    ${o.arrowLeft}/${o.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:s.gray("Enter something to filter")}
`}renderOption(a,l,h){let f;return l.disabled?f=a===h?s.gray().underline(l.title):s.strikethrough().gray(l.title):f=a===h?s.cyan().underline(l.title):l.title,(l.selected?s.green(o.radioOn):o.radioOff)+"  "+f}renderDoneOrInstructions(){if(this.done)return this.value.filter(l=>l.selected).map(l=>l.title).join(", ");const a=[s.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&a.push(s.yellow(this.warn)),a.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let a=[r.symbol(this.done,this.aborted),s.bold(this.msg),r.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(a+=s.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),a+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+a),this.clear=i(a,this.out.columns)}}return pt=n,pt}var mt,Vi;function hs(){if(Vi)return mt;Vi=1;const s=M(),e=U(),{style:t,clear:i}=j(),{erase:r,cursor:o}=P();class n extends e{constructor(a={}){super(a),this.msg=a.message,this.value=a.initial,this.initialValue=!!a.initial,this.yesMsg=a.yes||"yes",this.yesOption=a.yesOption||"(Y/n)",this.noMsg=a.no||"no",this.noOption=a.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(a,l){return a.toLowerCase()==="y"?(this.value=!0,this.submit()):a.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(o.hide):this.out.write(i(this.outputText,this.out.columns)),super.render(),this.outputText=[t.symbol(this.done,this.aborted),s.bold(this.msg),t.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:s.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(r.line+o.to(0)+this.outputText))}}return mt=n,mt}var gt,ji;function as(){return ji||(ji=1,gt={TextPrompt:Ur(),SelectPrompt:Gr(),TogglePrompt:Br(),DatePrompt:rs(),NumberPrompt:ss(),MultiselectPrompt:ki(),AutocompletePrompt:ns(),AutocompleteMultiselectPrompt:os(),ConfirmPrompt:hs()}),gt}var Ni;function ls(){return Ni||(Ni=1,function(s){const e=s,t=as(),i=n=>n;function r(n,p,a={}){return new Promise((l,h)=>{const f=new t[n](p),m=a.onAbort||i,u=a.onSubmit||i,c=a.onExit||i;f.on("state",p.onState||i),f.on("submit",w=>l(u(w))),f.on("exit",w=>l(c(w))),f.on("abort",w=>h(m(w)))})}e.text=n=>r("TextPrompt",n),e.password=n=>(n.style="password",e.text(n)),e.invisible=n=>(n.style="invisible",e.text(n)),e.number=n=>r("NumberPrompt",n),e.date=n=>r("DatePrompt",n),e.confirm=n=>r("ConfirmPrompt",n),e.list=n=>{const p=n.separator||",";return r("TextPrompt",n,{onSubmit:a=>a.split(p).map(l=>l.trim())})},e.toggle=n=>r("TogglePrompt",n),e.select=n=>r("SelectPrompt",n),e.multiselect=n=>{n.choices=[].concat(n.choices||[]);const p=a=>a.filter(l=>l.selected).map(l=>l.value);return r("MultiselectPrompt",n,{onAbort:p,onSubmit:p})},e.autocompleteMultiselect=n=>{n.choices=[].concat(n.choices||[]);const p=a=>a.filter(l=>l.selected).map(l=>l.value);return r("AutocompleteMultiselectPrompt",n,{onAbort:p,onSubmit:p})};const o=(n,p)=>Promise.resolve(p.filter(a=>a.title.slice(0,n.length).toLowerCase()===n.toLowerCase()));e.autocomplete=n=>(n.suggest=n.suggest||o,n.choices=[].concat(n.choices||[]),r("AutocompletePrompt",n))}(Ve)),Ve}var vt,Li;function us(){if(Li)return vt;Li=1;const s=ls(),e=["suggest","format","onState","validate","onRender","type"],t=()=>{};async function i(p=[],{onSubmit:a=t,onCancel:l=t}={}){const h={},f=i._override||{};p=[].concat(p);let m,u,c,w,v,g;const d=async(b,_,y=!1)=>{if(!(!y&&b.validate&&b.validate(_)!==!0))return b.format?await b.format(_,h):_};for(u of p)if({name:w,type:v}=u,typeof v=="function"&&(v=await v(m,{...h},u),u.type=v),!!v){for(let b in u){if(e.includes(b))continue;let _=u[b];u[b]=typeof _=="function"?await _(m,{...h},g):_}if(g=u,typeof u.message!="string")throw new Error("prompt message is required");if({name:w,type:v}=u,s[v]===void 0)throw new Error(`prompt type (${v}) is not defined`);if(f[u.name]!==void 0&&(m=await d(u,f[u.name]),m!==void 0)){h[w]=m;continue}try{m=i._injected?r(i._injected,u.initial):await s[v](u),h[w]=m=await d(u,m,!0),c=await a(u,m,h)}catch{c=!await l(u,h)}if(c)return h}return h}function r(p,a){const l=p.shift();if(l instanceof Error)throw l;return l===void 0?a:l}function o(p){i._injected=(i._injected||[]).concat(p)}function n(p){i._override=Object.assign({},p)}return vt=Object.assign(i,{prompt:i,prompts:s,inject:o,override:n}),vt}function cs(s){s=(Array.isArray(s)?s:s.split(".")).map(Number);let e=0,t=process.versions.node.split(".").map(Number);for(;e<s.length;e++){if(t[e]>s[e])return!1;if(s[e]>t[e])return!0}return!1}var ds=cs("8.6.0")?Fr():us();const fs=Ct(ds);let G=!0;const J=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{};let Z=0;if(J.process&&J.process.env&&J.process.stdout){const{FORCE_COLOR:s,NODE_DISABLE_COLORS:e,NO_COLOR:t,TERM:i,COLORTERM:r}=J.process.env;e||t||s==="0"?G=!1:s==="1"||s==="2"||s==="3"?G=!0:i==="dumb"?G=!1:"CI"in J.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(o=>o in J.process.env)?G=!0:G=process.stdout.isTTY,G&&(process.platform==="win32"||r&&(r==="truecolor"||r==="24bit")?Z=3:i&&(i.endsWith("-256color")||i.endsWith("256"))?Z=2:Z=1)}let Yi={enabled:G,supportLevel:Z};function z(s,e,t=1){const i=`\x1B[${s}m`,r=`\x1B[${e}m`,o=new RegExp(`\\x1b\\[${e}m`,"g");return n=>Yi.enabled&&Yi.supportLevel>=t?i+(""+n).replace(o,i)+r:""+n}const X=z(0,0),bt=z(31,39),Wi=z(32,39),ps=z(33,39),Ui=z(34,39),ms=z(36,39);var wt={exports:{}},Q={},K={};let Gi=class extends Error{constructor(e,t,i){super(i),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=t,this.exitCode=e,this.nestedError=void 0}},gs=class extends Gi{constructor(e){super(1,"commander.invalidArgument",e),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};K.CommanderError=Gi,K.InvalidArgumentError=gs;const{InvalidArgumentError:vs}=K;let bs=class{constructor(e,t){switch(this.description=t||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,e[0]){case"<":this.required=!0,this._name=e.slice(1,-1);break;case"[":this.required=!1,this._name=e.slice(1,-1);break;default:this.required=!0,this._name=e;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(e,t){return t===this.defaultValue||!Array.isArray(t)?[e]:t.concat(e)}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}argParser(e){return this.parseArg=e,this}choices(e){return this.argChoices=e.slice(),this.parseArg=(t,i)=>{if(!this.argChoices.includes(t))throw new vs(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,i):t},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function ws(s){const e=s.name()+(s.variadic===!0?"...":"");return s.required?"<"+e+">":"["+e+"]"}Q.Argument=bs,Q.humanReadableArgName=ws;var Bi={},yt={};const{humanReadableArgName:ys}=Q;let _s=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(e){const t=e.commands.filter(i=>!i._hidden);if(e._hasImplicitHelpCommand()){const[,i,r]=e._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/),o=e.createCommand(i).helpOption(!1);o.description(e._helpCommandDescription),r&&o.arguments(r),t.push(o)}return this.sortSubcommands&&t.sort((i,r)=>i.name().localeCompare(r.name())),t}compareOptions(e,t){const i=r=>r.short?r.short.replace(/^-/,""):r.long.replace(/^--/,"");return i(e).localeCompare(i(t))}visibleOptions(e){const t=e.options.filter(o=>!o.hidden),i=e._hasHelpOption&&e._helpShortFlag&&!e._findOption(e._helpShortFlag),r=e._hasHelpOption&&!e._findOption(e._helpLongFlag);if(i||r){let o;i?r?o=e.createOption(e._helpFlags,e._helpDescription):o=e.createOption(e._helpShortFlag,e._helpDescription):o=e.createOption(e._helpLongFlag,e._helpDescription),t.push(o)}return this.sortOptions&&t.sort(this.compareOptions),t}visibleGlobalOptions(e){if(!this.showGlobalOptions)return[];const t=[];for(let i=e.parent;i;i=i.parent){const r=i.options.filter(o=>!o.hidden);t.push(...r)}return this.sortOptions&&t.sort(this.compareOptions),t}visibleArguments(e){return e._argsDescription&&e.registeredArguments.forEach(t=>{t.description=t.description||e._argsDescription[t.name()]||""}),e.registeredArguments.find(t=>t.description)?e.registeredArguments:[]}subcommandTerm(e){const t=e.registeredArguments.map(i=>ys(i)).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(t?" "+t:"")}optionTerm(e){return e.flags}argumentTerm(e){return e.name()}longestSubcommandTermLength(e,t){return t.visibleCommands(e).reduce((i,r)=>Math.max(i,t.subcommandTerm(r).length),0)}longestOptionTermLength(e,t){return t.visibleOptions(e).reduce((i,r)=>Math.max(i,t.optionTerm(r).length),0)}longestGlobalOptionTermLength(e,t){return t.visibleGlobalOptions(e).reduce((i,r)=>Math.max(i,t.optionTerm(r).length),0)}longestArgumentTermLength(e,t){return t.visibleArguments(e).reduce((i,r)=>Math.max(i,t.argumentTerm(r).length),0)}commandUsage(e){let t=e._name;e._aliases[0]&&(t=t+"|"+e._aliases[0]);let i="";for(let r=e.parent;r;r=r.parent)i=r.name()+" "+i;return i+t+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.summary()||e.description()}optionDescription(e){const t=[];return e.argChoices&&t.push(`choices: ${e.argChoices.map(i=>JSON.stringify(i)).join(", ")}`),e.defaultValue!==void 0&&(e.required||e.optional||e.isBoolean()&&typeof e.defaultValue=="boolean")&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),e.presetArg!==void 0&&e.optional&&t.push(`preset: ${JSON.stringify(e.presetArg)}`),e.envVar!==void 0&&t.push(`env: ${e.envVar}`),t.length>0?`${e.description} (${t.join(", ")})`:e.description}argumentDescription(e){const t=[];if(e.argChoices&&t.push(`choices: ${e.argChoices.map(i=>JSON.stringify(i)).join(", ")}`),e.defaultValue!==void 0&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),t.length>0){const i=`(${t.join(", ")})`;return e.description?`${e.description} ${i}`:i}return e.description}formatHelp(e,t){const i=t.padWidth(e,t),r=t.helpWidth||80,o=2,n=2;function p(c,w){if(w){const v=`${c.padEnd(i+n)}${w}`;return t.wrap(v,r-o,i+n)}return c}function a(c){return c.join(`
`).replace(/^/gm," ".repeat(o))}let l=[`Usage: ${t.commandUsage(e)}`,""];const h=t.commandDescription(e);h.length>0&&(l=l.concat([t.wrap(h,r,0),""]));const f=t.visibleArguments(e).map(c=>p(t.argumentTerm(c),t.argumentDescription(c)));f.length>0&&(l=l.concat(["Arguments:",a(f),""]));const m=t.visibleOptions(e).map(c=>p(t.optionTerm(c),t.optionDescription(c)));if(m.length>0&&(l=l.concat(["Options:",a(m),""])),this.showGlobalOptions){const c=t.visibleGlobalOptions(e).map(w=>p(t.optionTerm(w),t.optionDescription(w)));c.length>0&&(l=l.concat(["Global Options:",a(c),""]))}const u=t.visibleCommands(e).map(c=>p(t.subcommandTerm(c),t.subcommandDescription(c)));return u.length>0&&(l=l.concat(["Commands:",a(u),""])),l.join(`
`)}padWidth(e,t){return Math.max(t.longestOptionTermLength(e,t),t.longestGlobalOptionTermLength(e,t),t.longestSubcommandTermLength(e,t),t.longestArgumentTermLength(e,t))}wrap(e,t,i,r=40){const o=" \\f\\t\\v\xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF",n=new RegExp(`[\\n][${o}]+`);if(e.match(n))return e;const p=t-i;if(p<r)return e;const a=e.slice(0,i),l=e.slice(i).replace(`\r
`,`
`),h=" ".repeat(i),m="\\s\u200B",u=new RegExp(`
|.{1,${p-1}}([${m}]|$)|[^${m}]+?([${m}]|$)`,"g"),c=l.match(u)||[];return a+c.map((w,v)=>w===`
`?"":(v>0?h:"")+w.trimEnd()).join(`
`)}};yt.Help=_s;var ee={};const{InvalidArgumentError:xs}=K;let Os=class{constructor(e,t){this.flags=e,this.description=t||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;const i=Ji(e);this.short=i.shortFlag,this.long=i.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}preset(e){return this.presetArg=e,this}conflicts(e){return this.conflictsWith=this.conflictsWith.concat(e),this}implies(e){let t=e;return typeof e=="string"&&(t={[e]:!0}),this.implied=Object.assign(this.implied||{},t),this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,t){return t===this.defaultValue||!Array.isArray(t)?[e]:t.concat(e)}choices(e){return this.argChoices=e.slice(),this.parseArg=(t,i)=>{if(!this.argChoices.includes(t))throw new xs(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,i):t},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return Ss(this.name().replace(/^no-/,""))}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}},$s=class{constructor(e){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,e.forEach(t=>{t.negate?this.negativeOptions.set(t.attributeName(),t):this.positiveOptions.set(t.attributeName(),t)}),this.negativeOptions.forEach((t,i)=>{this.positiveOptions.has(i)&&this.dualOptions.add(i)})}valueFromOption(e,t){const i=t.attributeName();if(!this.dualOptions.has(i))return!0;const r=this.negativeOptions.get(i).presetArg,o=r!==void 0?r:!1;return t.negate===(o===e)}};function Ss(s){return s.split("-").reduce((e,t)=>e+t[0].toUpperCase()+t.slice(1))}function Ji(s){let e,t;const i=s.split(/[ |,]+/);return i.length>1&&!/^[[<]/.test(i[1])&&(e=i.shift()),t=i.shift(),!e&&/^-[^-]$/.test(t)&&(e=t,t=void 0),{shortFlag:e,longFlag:t}}ee.Option=Os,ee.splitOptionFlags=Ji,ee.DualOptions=$s;var zi={};const Ki=3;function Cs(s,e){if(Math.abs(s.length-e.length)>Ki)return Math.max(s.length,e.length);const t=[];for(let i=0;i<=s.length;i++)t[i]=[i];for(let i=0;i<=e.length;i++)t[0][i]=i;for(let i=1;i<=e.length;i++)for(let r=1;r<=s.length;r++){let o=1;s[r-1]===e[i-1]?o=0:o=1,t[r][i]=Math.min(t[r-1][i]+1,t[r][i-1]+1,t[r-1][i-1]+o),r>1&&i>1&&s[r-1]===e[i-2]&&s[r-2]===e[i-1]&&(t[r][i]=Math.min(t[r][i],t[r-2][i-2]+1))}return t[s.length][e.length]}function As(s,e){if(!e||e.length===0)return"";e=Array.from(new Set(e));const t=s.startsWith("--");t&&(s=s.slice(2),e=e.map(n=>n.slice(2)));let i=[],r=Ki;const o=.4;return e.forEach(n=>{if(n.length<=1)return;const p=Cs(s,n),a=Math.max(s.length,n.length);(a-p)/a>o&&(p<r?(r=p,i=[n]):p===r&&i.push(n))}),i.sort((n,p)=>n.localeCompare(p)),t&&(i=i.map(n=>`--${n}`)),i.length>1?`
(Did you mean one of ${i.join(", ")}?)`:i.length===1?`
(Did you mean ${i[0]}?)`:""}zi.suggestSimilar=As;const Es=re.EventEmitter,_t=lr,Y=ur,xt=cr,E=dr,{Argument:Ms,humanReadableArgName:Ps}=Q,{CommanderError:Ot}=K,{Help:Ts}=yt,{Option:Zi,splitOptionFlags:Ds,DualOptions:qs}=ee,{suggestSimilar:Xi}=zi;let Is=class hr extends Es{constructor(e){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=e||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:t=>E.stdout.write(t),writeErr:t=>E.stderr.write(t),getOutHelpWidth:()=>E.stdout.isTTY?E.stdout.columns:void 0,getErrHelpWidth:()=>E.stderr.isTTY?E.stderr.columns:void 0,outputError:(t,i)=>i(t)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}copyInheritedSettings(e){return this._outputConfiguration=e._outputConfiguration,this._hasHelpOption=e._hasHelpOption,this._helpFlags=e._helpFlags,this._helpDescription=e._helpDescription,this._helpShortFlag=e._helpShortFlag,this._helpLongFlag=e._helpLongFlag,this._helpCommandName=e._helpCommandName,this._helpCommandnameAndArgs=e._helpCommandnameAndArgs,this._helpCommandDescription=e._helpCommandDescription,this._helpConfiguration=e._helpConfiguration,this._exitCallback=e._exitCallback,this._storeOptionsAsProperties=e._storeOptionsAsProperties,this._combineFlagAndOptionalValue=e._combineFlagAndOptionalValue,this._allowExcessArguments=e._allowExcessArguments,this._enablePositionalOptions=e._enablePositionalOptions,this._showHelpAfterError=e._showHelpAfterError,this._showSuggestionAfterError=e._showSuggestionAfterError,this}_getCommandAndAncestors(){const e=[];for(let t=this;t;t=t.parent)e.push(t);return e}command(e,t,i){let r=t,o=i;typeof r=="object"&&r!==null&&(o=r,r=null),o=o||{};const[,n,p]=e.match(/([^ ]+) *(.*)/),a=this.createCommand(n);return r&&(a.description(r),a._executableHandler=!0),o.isDefault&&(this._defaultCommandName=a._name),a._hidden=!!(o.noHelp||o.hidden),a._executableFile=o.executableFile||null,p&&a.arguments(p),this.commands.push(a),a.parent=this,a.copyInheritedSettings(this),r?this:a}createCommand(e){return new hr(e)}createHelp(){return Object.assign(new Ts,this.configureHelp())}configureHelp(e){return e===void 0?this._helpConfiguration:(this._helpConfiguration=e,this)}configureOutput(e){return e===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,e),this)}showHelpAfterError(e=!0){return typeof e!="string"&&(e=!!e),this._showHelpAfterError=e,this}showSuggestionAfterError(e=!0){return this._showSuggestionAfterError=!!e,this}addCommand(e,t){if(!e._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return t=t||{},t.isDefault&&(this._defaultCommandName=e._name),(t.noHelp||t.hidden)&&(e._hidden=!0),this.commands.push(e),e.parent=this,this}createArgument(e,t){return new Ms(e,t)}argument(e,t,i,r){const o=this.createArgument(e,t);return typeof i=="function"?o.default(r).argParser(i):o.default(i),this.addArgument(o),this}arguments(e){return e.trim().split(/ +/).forEach(t=>{this.argument(t)}),this}addArgument(e){const t=this.registeredArguments.slice(-1)[0];if(t&&t.variadic)throw new Error(`only the last argument can be variadic '${t.name()}'`);if(e.required&&e.defaultValue!==void 0&&e.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${e.name()}'`);return this.registeredArguments.push(e),this}addHelpCommand(e,t){return e===!1?this._addImplicitHelpCommand=!1:(this._addImplicitHelpCommand=!0,typeof e=="string"&&(this._helpCommandName=e.split(" ")[0],this._helpCommandnameAndArgs=e),this._helpCommandDescription=t||this._helpCommandDescription),this}_hasImplicitHelpCommand(){return this._addImplicitHelpCommand===void 0?this.commands.length&&!this._actionHandler&&!this._findCommand("help"):this._addImplicitHelpCommand}hook(e,t){const i=["preSubcommand","preAction","postAction"];if(!i.includes(e))throw new Error(`Unexpected value for event passed to hook : '${e}'.
Expecting one of '${i.join("', '")}'`);return this._lifeCycleHooks[e]?this._lifeCycleHooks[e].push(t):this._lifeCycleHooks[e]=[t],this}exitOverride(e){return e?this._exitCallback=e:this._exitCallback=t=>{if(t.code!=="commander.executeSubCommandAsync")throw t},this}_exit(e,t,i){this._exitCallback&&this._exitCallback(new Ot(e,t,i)),E.exit(e)}action(e){const t=i=>{const r=this.registeredArguments.length,o=i.slice(0,r);return this._storeOptionsAsProperties?o[r]=this:o[r]=this.opts(),o.push(this),e.apply(this,o)};return this._actionHandler=t,this}createOption(e,t){return new Zi(e,t)}_callParseArg(e,t,i,r){try{return e.parseArg(t,i)}catch(o){if(o.code==="commander.invalidArgument"){const n=`${r} ${o.message}`;this.error(n,{exitCode:o.exitCode,code:o.code})}throw o}}addOption(e){const t=e.name(),i=e.attributeName();if(e.negate){const o=e.long.replace(/^--no-/,"--");this._findOption(o)||this.setOptionValueWithSource(i,e.defaultValue===void 0?!0:e.defaultValue,"default")}else e.defaultValue!==void 0&&this.setOptionValueWithSource(i,e.defaultValue,"default");this.options.push(e);const r=(o,n,p)=>{o==null&&e.presetArg!==void 0&&(o=e.presetArg);const a=this.getOptionValue(i);o!==null&&e.parseArg?o=this._callParseArg(e,o,a,n):o!==null&&e.variadic&&(o=e._concatValue(o,a)),o==null&&(e.negate?o=!1:e.isBoolean()||e.optional?o=!0:o=""),this.setOptionValueWithSource(i,o,p)};return this.on("option:"+t,o=>{const n=`error: option '${e.flags}' argument '${o}' is invalid.`;r(o,n,"cli")}),e.envVar&&this.on("optionEnv:"+t,o=>{const n=`error: option '${e.flags}' value '${o}' from env '${e.envVar}' is invalid.`;r(o,n,"env")}),this}_optionEx(e,t,i,r,o){if(typeof t=="object"&&t instanceof Zi)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");const n=this.createOption(t,i);if(n.makeOptionMandatory(!!e.mandatory),typeof r=="function")n.default(o).argParser(r);else if(r instanceof RegExp){const p=r;r=(a,l)=>{const h=p.exec(a);return h?h[0]:l},n.default(o).argParser(r)}else n.default(r);return this.addOption(n)}option(e,t,i,r){return this._optionEx({},e,t,i,r)}requiredOption(e,t,i,r){return this._optionEx({mandatory:!0},e,t,i,r)}combineFlagAndOptionalValue(e=!0){return this._combineFlagAndOptionalValue=!!e,this}allowUnknownOption(e=!0){return this._allowUnknownOption=!!e,this}allowExcessArguments(e=!0){return this._allowExcessArguments=!!e,this}enablePositionalOptions(e=!0){return this._enablePositionalOptions=!!e,this}passThroughOptions(e=!0){if(this._passThroughOptions=!!e,this.parent&&e&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties(e=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this._storeOptionsAsProperties=!!e,this}getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}setOptionValue(e,t){return this.setOptionValueWithSource(e,t,void 0)}setOptionValueWithSource(e,t,i){return this._storeOptionsAsProperties?this[e]=t:this._optionValues[e]=t,this._optionValueSources[e]=i,this}getOptionValueSource(e){return this._optionValueSources[e]}getOptionValueSourceWithGlobals(e){let t;return this._getCommandAndAncestors().forEach(i=>{i.getOptionValueSource(e)!==void 0&&(t=i.getOptionValueSource(e))}),t}_prepareUserArgs(e,t){if(e!==void 0&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");t=t||{},e===void 0&&(e=E.argv,E.versions&&E.versions.electron&&(t.from="electron")),this.rawArgs=e.slice();let i;switch(t.from){case void 0:case"node":this._scriptPath=e[1],i=e.slice(2);break;case"electron":E.defaultApp?(this._scriptPath=e[1],i=e.slice(2)):i=e.slice(1);break;case"user":i=e.slice(0);break;default:throw new Error(`unexpected parse option { from: '${t.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",i}parse(e,t){const i=this._prepareUserArgs(e,t);return this._parseCommand([],i),this}async parseAsync(e,t){const i=this._prepareUserArgs(e,t);return await this._parseCommand([],i),this}_executeSubCommand(e,t){t=t.slice();let i=!1;const r=[".js",".ts",".tsx",".mjs",".cjs"];function o(h,f){const m=Y.resolve(h,f);if(xt.existsSync(m))return m;if(r.includes(Y.extname(f)))return;const u=r.find(c=>xt.existsSync(`${m}${c}`));if(u)return`${m}${u}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let n=e._executableFile||`${this._name}-${e._name}`,p=this._executableDir||"";if(this._scriptPath){let h;try{h=xt.realpathSync(this._scriptPath)}catch{h=this._scriptPath}p=Y.resolve(Y.dirname(h),p)}if(p){let h=o(p,n);if(!h&&!e._executableFile&&this._scriptPath){const f=Y.basename(this._scriptPath,Y.extname(this._scriptPath));f!==this._name&&(h=o(p,`${f}-${e._name}`))}n=h||n}i=r.includes(Y.extname(n));let a;E.platform!=="win32"?i?(t.unshift(n),t=er(E.execArgv).concat(t),a=_t.spawn(E.argv[0],t,{stdio:"inherit"})):a=_t.spawn(n,t,{stdio:"inherit"}):(t.unshift(n),t=er(E.execArgv).concat(t),a=_t.spawn(E.execPath,t,{stdio:"inherit"})),a.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(f=>{E.on(f,()=>{a.killed===!1&&a.exitCode===null&&a.kill(f)})});const l=this._exitCallback;l?a.on("close",()=>{l(new Ot(E.exitCode||0,"commander.executeSubCommandAsync","(close)"))}):a.on("close",E.exit.bind(E)),a.on("error",h=>{if(h.code==="ENOENT"){const f=p?`searched for local subcommand relative to directory '${p}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",m=`'${n}' does not exist
 - if '${e._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${f}`;throw new Error(m)}else if(h.code==="EACCES")throw new Error(`'${n}' not executable`);if(!l)E.exit(1);else{const f=new Ot(1,"commander.executeSubCommandAsync","(error)");f.nestedError=h,l(f)}}),this.runningCommand=a}_dispatchSubcommand(e,t,i){const r=this._findCommand(e);r||this.help({error:!0});let o;return o=this._chainOrCallSubCommandHook(o,r,"preSubcommand"),o=this._chainOrCall(o,()=>{if(r._executableHandler)this._executeSubCommand(r,t.concat(i));else return r._parseCommand(t,i)}),o}_dispatchHelpCommand(e){e||this.help();const t=this._findCommand(e);return t&&!t._executableHandler&&t.help(),this._dispatchSubcommand(e,[],[this._helpLongFlag||this._helpShortFlag])}_checkNumberOfArguments(){this.registeredArguments.forEach((e,t)=>{e.required&&this.args[t]==null&&this.missingArgument(e.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){const e=(i,r,o)=>{let n=r;if(r!==null&&i.parseArg){const p=`error: command-argument value '${r}' is invalid for argument '${i.name()}'.`;n=this._callParseArg(i,r,o,p)}return n};this._checkNumberOfArguments();const t=[];this.registeredArguments.forEach((i,r)=>{let o=i.defaultValue;i.variadic?r<this.args.length?(o=this.args.slice(r),i.parseArg&&(o=o.reduce((n,p)=>e(i,p,n),i.defaultValue))):o===void 0&&(o=[]):r<this.args.length&&(o=this.args[r],i.parseArg&&(o=e(i,o,i.defaultValue))),t[r]=o}),this.processedArgs=t}_chainOrCall(e,t){return e&&e.then&&typeof e.then=="function"?e.then(()=>t()):t()}_chainOrCallHooks(e,t){let i=e;const r=[];return this._getCommandAndAncestors().reverse().filter(o=>o._lifeCycleHooks[t]!==void 0).forEach(o=>{o._lifeCycleHooks[t].forEach(n=>{r.push({hookedCommand:o,callback:n})})}),t==="postAction"&&r.reverse(),r.forEach(o=>{i=this._chainOrCall(i,()=>o.callback(o.hookedCommand,this))}),i}_chainOrCallSubCommandHook(e,t,i){let r=e;return this._lifeCycleHooks[i]!==void 0&&this._lifeCycleHooks[i].forEach(o=>{r=this._chainOrCall(r,()=>o(this,t))}),r}_parseCommand(e,t){const i=this.parseOptions(t);if(this._parseOptionsEnv(),this._parseOptionsImplied(),e=e.concat(i.operands),t=i.unknown,this.args=e.concat(t),e&&this._findCommand(e[0]))return this._dispatchSubcommand(e[0],e.slice(1),t);if(this._hasImplicitHelpCommand()&&e[0]===this._helpCommandName)return this._dispatchHelpCommand(e[1]);if(this._defaultCommandName)return Qi(this,t),this._dispatchSubcommand(this._defaultCommandName,e,t);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),Qi(this,i.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();const r=()=>{i.unknown.length>0&&this.unknownOption(i.unknown[0])},o=`command:${this.name()}`;if(this._actionHandler){r(),this._processArguments();let n;return n=this._chainOrCallHooks(n,"preAction"),n=this._chainOrCall(n,()=>this._actionHandler(this.processedArgs)),this.parent&&(n=this._chainOrCall(n,()=>{this.parent.emit(o,e,t)})),n=this._chainOrCallHooks(n,"postAction"),n}if(this.parent&&this.parent.listenerCount(o))r(),this._processArguments(),this.parent.emit(o,e,t);else if(e.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",e,t);this.listenerCount("command:*")?this.emit("command:*",e,t):this.commands.length?this.unknownCommand():(r(),this._processArguments())}else this.commands.length?(r(),this.help({error:!0})):(r(),this._processArguments())}_findCommand(e){if(e)return this.commands.find(t=>t._name===e||t._aliases.includes(e))}_findOption(e){return this.options.find(t=>t.is(e))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(e=>{e.options.forEach(t=>{t.mandatory&&e.getOptionValue(t.attributeName())===void 0&&e.missingMandatoryOptionValue(t)})})}_checkForConflictingLocalOptions(){const e=this.options.filter(i=>{const r=i.attributeName();return this.getOptionValue(r)===void 0?!1:this.getOptionValueSource(r)!=="default"});e.filter(i=>i.conflictsWith.length>0).forEach(i=>{const r=e.find(o=>i.conflictsWith.includes(o.attributeName()));r&&this._conflictingOption(i,r)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(e=>{e._checkForConflictingLocalOptions()})}parseOptions(e){const t=[],i=[];let r=t;const o=e.slice();function n(a){return a.length>1&&a[0]==="-"}let p=null;for(;o.length;){const a=o.shift();if(a==="--"){r===i&&r.push(a),r.push(...o);break}if(p&&!n(a)){this.emit(`option:${p.name()}`,a);continue}if(p=null,n(a)){const l=this._findOption(a);if(l){if(l.required){const h=o.shift();h===void 0&&this.optionMissingArgument(l),this.emit(`option:${l.name()}`,h)}else if(l.optional){let h=null;o.length>0&&!n(o[0])&&(h=o.shift()),this.emit(`option:${l.name()}`,h)}else this.emit(`option:${l.name()}`);p=l.variadic?l:null;continue}}if(a.length>2&&a[0]==="-"&&a[1]!=="-"){const l=this._findOption(`-${a[1]}`);if(l){l.required||l.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${l.name()}`,a.slice(2)):(this.emit(`option:${l.name()}`),o.unshift(`-${a.slice(2)}`));continue}}if(/^--[^=]+=/.test(a)){const l=a.indexOf("="),h=this._findOption(a.slice(0,l));if(h&&(h.required||h.optional)){this.emit(`option:${h.name()}`,a.slice(l+1));continue}}if(n(a)&&(r=i),(this._enablePositionalOptions||this._passThroughOptions)&&t.length===0&&i.length===0){if(this._findCommand(a)){t.push(a),o.length>0&&i.push(...o);break}else if(a===this._helpCommandName&&this._hasImplicitHelpCommand()){t.push(a),o.length>0&&t.push(...o);break}else if(this._defaultCommandName){i.push(a),o.length>0&&i.push(...o);break}}if(this._passThroughOptions){r.push(a),o.length>0&&r.push(...o);break}r.push(a)}return{operands:t,unknown:i}}opts(){if(this._storeOptionsAsProperties){const e={},t=this.options.length;for(let i=0;i<t;i++){const r=this.options[i].attributeName();e[r]=r===this._versionOptionName?this._version:this[r]}return e}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((e,t)=>Object.assign(e,t.opts()),{})}error(e,t){this._outputConfiguration.outputError(`${e}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));const i=t||{},r=i.exitCode||1,o=i.code||"commander.error";this._exit(r,o,e)}_parseOptionsEnv(){this.options.forEach(e=>{if(e.envVar&&e.envVar in E.env){const t=e.attributeName();(this.getOptionValue(t)===void 0||["default","config","env"].includes(this.getOptionValueSource(t)))&&(e.required||e.optional?this.emit(`optionEnv:${e.name()}`,E.env[e.envVar]):this.emit(`optionEnv:${e.name()}`))}})}_parseOptionsImplied(){const e=new qs(this.options),t=i=>this.getOptionValue(i)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(i));this.options.filter(i=>i.implied!==void 0&&t(i.attributeName())&&e.valueFromOption(this.getOptionValue(i.attributeName()),i)).forEach(i=>{Object.keys(i.implied).filter(r=>!t(r)).forEach(r=>{this.setOptionValueWithSource(r,i.implied[r],"implied")})})}missingArgument(e){const t=`error: missing required argument '${e}'`;this.error(t,{code:"commander.missingArgument"})}optionMissingArgument(e){const t=`error: option '${e.flags}' argument missing`;this.error(t,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(e){const t=`error: required option '${e.flags}' not specified`;this.error(t,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(e,t){const i=n=>{const p=n.attributeName(),a=this.getOptionValue(p),l=this.options.find(f=>f.negate&&p===f.attributeName()),h=this.options.find(f=>!f.negate&&p===f.attributeName());return l&&(l.presetArg===void 0&&a===!1||l.presetArg!==void 0&&a===l.presetArg)?l:h||n},r=n=>{const p=i(n),a=p.attributeName();return this.getOptionValueSource(a)==="env"?`environment variable '${p.envVar}'`:`option '${p.flags}'`},o=`error: ${r(e)} cannot be used with ${r(t)}`;this.error(o,{code:"commander.conflictingOption"})}unknownOption(e){if(this._allowUnknownOption)return;let t="";if(e.startsWith("--")&&this._showSuggestionAfterError){let r=[],o=this;do{const n=o.createHelp().visibleOptions(o).filter(p=>p.long).map(p=>p.long);r=r.concat(n),o=o.parent}while(o&&!o._enablePositionalOptions);t=Xi(e,r)}const i=`error: unknown option '${e}'${t}`;this.error(i,{code:"commander.unknownOption"})}_excessArguments(e){if(this._allowExcessArguments)return;const t=this.registeredArguments.length,i=t===1?"":"s",o=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${t} argument${i} but got ${e.length}.`;this.error(o,{code:"commander.excessArguments"})}unknownCommand(){const e=this.args[0];let t="";if(this._showSuggestionAfterError){const r=[];this.createHelp().visibleCommands(this).forEach(o=>{r.push(o.name()),o.alias()&&r.push(o.alias())}),t=Xi(e,r)}const i=`error: unknown command '${e}'${t}`;this.error(i,{code:"commander.unknownCommand"})}version(e,t,i){if(e===void 0)return this._version;this._version=e,t=t||"-V, --version",i=i||"output the version number";const r=this.createOption(t,i);return this._versionOptionName=r.attributeName(),this.options.push(r),this.on("option:"+r.name(),()=>{this._outputConfiguration.writeOut(`${e}
`),this._exit(0,"commander.version",e)}),this}description(e,t){return e===void 0&&t===void 0?this._description:(this._description=e,t&&(this._argsDescription=t),this)}summary(e){return e===void 0?this._summary:(this._summary=e,this)}alias(e){if(e===void 0)return this._aliases[0];let t=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(t=this.commands[this.commands.length-1]),e===t._name)throw new Error("Command alias can't be the same as its name");return t._aliases.push(e),this}aliases(e){return e===void 0?this._aliases:(e.forEach(t=>this.alias(t)),this)}usage(e){if(e===void 0){if(this._usage)return this._usage;const t=this.registeredArguments.map(i=>Ps(i));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?t:[]).join(" ")}return this._usage=e,this}name(e){return e===void 0?this._name:(this._name=e,this)}nameFromFilename(e){return this._name=Y.basename(e,Y.extname(e)),this}executableDir(e){return e===void 0?this._executableDir:(this._executableDir=e,this)}helpInformation(e){const t=this.createHelp();return t.helpWidth===void 0&&(t.helpWidth=e&&e.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),t.formatHelp(this,t)}_getHelpContext(e){e=e||{};const t={error:!!e.error};let i;return t.error?i=r=>this._outputConfiguration.writeErr(r):i=r=>this._outputConfiguration.writeOut(r),t.write=e.write||i,t.command=this,t}outputHelp(e){let t;typeof e=="function"&&(t=e,e=void 0);const i=this._getHelpContext(e);this._getCommandAndAncestors().reverse().forEach(o=>o.emit("beforeAllHelp",i)),this.emit("beforeHelp",i);let r=this.helpInformation(i);if(t&&(r=t(r),typeof r!="string"&&!Buffer.isBuffer(r)))throw new Error("outputHelp callback must return a string or a Buffer");i.write(r),this._helpLongFlag&&this.emit(this._helpLongFlag),this.emit("afterHelp",i),this._getCommandAndAncestors().forEach(o=>o.emit("afterAllHelp",i))}helpOption(e,t){if(typeof e=="boolean")return this._hasHelpOption=e,this;this._helpFlags=e||this._helpFlags,this._helpDescription=t||this._helpDescription;const i=Ds(this._helpFlags);return this._helpShortFlag=i.shortFlag,this._helpLongFlag=i.longFlag,this}help(e){this.outputHelp(e);let t=E.exitCode||0;t===0&&e&&typeof e!="function"&&e.error&&(t=1),this._exit(t,"commander.help","(outputHelp)")}addHelpText(e,t){const i=["beforeAll","before","after","afterAll"];if(!i.includes(e))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${i.join("', '")}'`);const r=`${e}Help`;return this.on(r,o=>{let n;typeof t=="function"?n=t({error:o.error,command:o.command}):n=t,n&&o.write(`${n}
`)}),this}};function Qi(s,e){s._hasHelpOption&&e.find(i=>i===s._helpLongFlag||i===s._helpShortFlag)&&(s.outputHelp(),s._exit(0,"commander.helpDisplayed","(outputHelp)"))}function er(s){return s.map(e=>{if(!e.startsWith("--inspect"))return e;let t,i="127.0.0.1",r="9229",o;return(o=e.match(/^(--inspect(-brk)?)$/))!==null?t=o[1]:(o=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(t=o[1],/^\d+$/.test(o[3])?r=o[3]:i=o[3]):(o=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(t=o[1],i=o[3],r=o[4]),t&&r!=="0"?`${t}=${i}:${parseInt(r)+1}`:e})}Bi.Command=Is,function(s,e){const{Argument:t}=Q,{Command:i}=Bi,{CommanderError:r,InvalidArgumentError:o}=K,{Help:n}=yt,{Option:p}=ee;e=s.exports=new i,e.program=e,e.Command=i,e.Option=p,e.Argument=t,e.Help=n,e.CommanderError=r,e.InvalidArgumentError=o,e.InvalidOptionArgumentError=o}(wt,wt.exports);var Rs=wt.exports;const ks=Ct(Rs),{program:wn,createCommand:yn,createArgument:_n,createOption:xn,CommanderError:On,InvalidArgumentError:$n,InvalidOptionArgumentError:Sn,Command:Hs,Argument:Cn,Option:An,Help:En}=ks,tr=[{name:"vue",display:"Vue",color:Wi,variants:[{name:"vue-ts",display:"TypeScript",color:Ui},{name:"vue",display:"JavaScript",color:ps}]},{name:"element",display:"Element-Plus",color:ms,variants:[{name:"element",display:"Element with Javascript",color:Wi},{name:"element-ts",display:"Element with Typescript",color:Ui}]}],ir=tr.map(s=>s.variants&&s.variants.map(e=>e.name)||[s.name]).flat(),Fs={_gitignore:".gitignore",_eslintignore:".eslintignore",_prettierignore:".prettierignore","_eslintrc.yaml":".eslintrc.yaml","_prettierrc.yaml":".prettierrc.yaml"},ie="ekko-project";function Vs(s){return s?.trim().replace(/\/+$/g,"")||""}function rr(s,e){k.statSync(s).isDirectory()?Ns(s,e):k.copyFileSync(s,e)}function sr(s){return/^(?:@[a-z\d\-*~][a-z\d\-*._~]*\/)?[a-z\d\-~][a-z\d\-._~]*$/.test(s)}function js(s){return s.trim().toLowerCase().replace(/\s+/g,"-").replace(/^[._]/,"").replace(/[^a-z\d\-~]+/g,"-")}function Ns(s,e){k.mkdirSync(e,{recursive:!0});for(const t of k.readdirSync(s)){const i=H.resolve(s,t),r=H.resolve(e,t);rr(i,r)}}function Ls(s){const e=k.readdirSync(s);return e.length===0||e.length===1&&e[0]===".git"}function Ys(s){k.existsSync(s)&&k.readdirSync(s).forEach(e=>{console.log(e),e!==".git"&&k.rmSync(H.resolve(s,e),{recursive:!0,force:!0})})}function Ws(s){if(!s)return;const e=s.split(" ")[0].split("/");return{name:e[0],version:e[1]}}const Us="create-ekko",Gs="0.0.1",Bs="module",Js={"create-ekko":"index.js"},zs={dev:"unbuild --stub",build:"unbuild",typecheck:"tsc --noEmit",test:'echo "Error: no test specified" && exit 1'},Ks=["index.js","template-*","dist"],Zs="Ekko Zhang",Xs={node:"^18.0.0 || >=20.0.0"},Qs="MIT",en={"@types/minimist":"^1.2.4","@types/node":"^18","@types/prompts":"^2.4.7",commander:"^11.1.0",kolorist:"^1.8.0",minimist:"^1.2.8",prompts:"^2.4.2",unbuild:"^2.0.0"},nr={name:Us,version:Gs,type:Bs,bin:Js,scripts:zs,files:Ks,author:Zs,engines:Xs,license:Qs,devDependencies:en},or=new Hs,te=process.cwd(),tn=async(s,e,t)=>{let i,r=t;const o=[{type:s!==ie?null:"text",name:"projectName",message:X("Project name:"),initial:ie,onState:d=>{s=d.value;const b=Vs(s)||ie;r=t||H.join(te,b)}},{type:()=>!k.existsSync(r)||Ls(r)?null:"confirm",name:"overwrite",message:()=>(r===te?"Current directory":`Target directory "${r}"`)+" is not empty. Remove existing files and continue?"},{type:(d,{overwrite:b})=>{if(typeof b<"u"&&!b)throw new Error(bt("\u2716")+" Operation cancelled");return null},name:"overwriteChecker"},{type:()=>sr(s)?null:"text",name:"packageName",message:X("Package name:"),initial:()=>js(s),validate:d=>sr(d)||"Invalid package.json name"},{type:e&&ir.includes(e)?null:"select",name:"framework",message:e&&!ir.includes(e)?X(`"${e}" isn't a valid template. Please choose from below: `):X("Select a framework:"),initial:0,choices:tr.map(d=>({title:d.color(d.display||d.name),value:d}))},{type:d=>d&&d.variants?"select":null,name:"variant",message:X("Select a variant:"),choices:d=>d.variants.map(b=>{const _=b.color;return{title:_(b.display||b.name),value:b.name}})}];try{i=await fs(o,{onCancel:()=>{throw new Error(bt("\u2716")+bt(" Operation cancelled"))}})}catch(d){console.log(d.message);return}const{framework:n,overwrite:p,packageName:a,variant:l}=i;p?Ys(r):k.existsSync(r)||k.mkdirSync(r,{recursive:!0});const h=l||n?.name||e,f=Ws(process.env.npm_config_user_agent),m=f?f.name:"npm";console.log(`
Scaffolding project in ${r}...`);const u=H.resolve(ar(import.meta.url),"../..",`template-${h}`),c=(d,b)=>{const _=H.join(r,Fs[d]??d);b?k.writeFileSync(_,b):rr(H.join(u,d),_)},w=k.readdirSync(u);for(const d of w.filter(b=>b!=="package.json"))c(d);const v=JSON.parse(k.readFileSync(H.join(u,"package.json"),"utf-8"));v.name=a||s,c("package.json",JSON.stringify(v,null,2)+`
`);const g=H.relative(te,r);switch(console.log(`
Done. Now run:
`),r!==te&&console.log(`  cd ${g.includes(" ")?`"${g}"`:g}`),m){case"yarn":console.log("  yarn"),console.log("  yarn dev");break;default:console.log(`  ${m} install`),console.log(`  ${m} run dev`);break}console.log()};function rn(){or.name(nr.name).description("\u524D\u7AEF\u9879\u76EE\u521B\u5EFACli").version(nr.version).argument("[Project Name]","\u9879\u76EE\u540D\u79F0",ie).option("-t, --template <template>","\u6307\u5B9A\u4F7F\u7528\u6A21\u677F").option("-p, --path <targetPath>","\u6307\u5B9A\u9879\u76EE\u751F\u6210\u76EE\u5F55").action((s,{template:e,path:t})=>{let i="";t&&(t.startsWith("/")?i=t:t==="."?i=H.resolve():i=H.join(te,t)),tn(s||"",e||"",i||"").catch(r=>{console.error(r)})}),or.parse(process.argv)}rn();
